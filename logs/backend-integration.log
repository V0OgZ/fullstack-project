[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------< com.heroesoftimepoc:temporal-engine >-----------------
[INFO] Building Heroes of Time POC - Temporal Engine 0.0.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:3.3.1:resources (default-resources) @ temporal-engine ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 4 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- maven-compiler-plugin:3.11.0:compile (default-compile) @ temporal-engine ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:3.3.1:testResources (default-testResources) @ temporal-engine ---
[INFO] Copying 1 resource from src/test/resources to target/test-classes
[INFO] 
[INFO] --- maven-compiler-plugin:3.11.0:testCompile (default-testCompile) @ temporal-engine ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:3.1.2:test (default-test) @ temporal-engine ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest
18:23:12.693 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest]: QuantumInterferenceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:23:12.763 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.heroesoftimepoc.temporalengine.TemporalEngineApplication for test class com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest
18:23:12.851 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:13.021+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:13.021+02:00 DEBUG 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T18:23:13.022+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T18:23:13.038+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3d4d3fe7
2025-07-18T18:23:13.468+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:13.523+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:13.914+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:13.954+02:00  INFO 59527 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2025-07-18T18:23:13.977+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:14.156+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:14.179+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-18T18:23:14.769+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-07-18T18:23:14.771+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-18T18:23:14.794+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:15.368+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T18:23:15.374+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:15.376+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:15.376+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:15.376+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:15.376+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:15.376+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:15.376+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:15.378+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T18:23:15.380+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T18:23:15.384+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T18:23:15.387+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T18:23:15.388+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T18:23:15.389+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T18:23:15.391+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T18:23:15.392+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T18:23:15.395+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T18:23:15.396+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T18:23:15.397+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T18:23:15.398+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T18:23:15.399+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T18:23:15.401+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:15.617+02:00  INFO 59527 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-18T18:23:16.190+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:16.259+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-18T18:23:16.339+02:00 DEBUG 59527 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T18:23:16.370+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T18:23:16.390+02:00 DEBUG 59527 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T18:23:16.465+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 3.626 seconds (process running for 4.21)
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
2025-07-18T18:23:16.861+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:16.877+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:16.878+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:16.887+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:16.894+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:16.918+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3d4d3fe7, started on Fri Jul 18 18:23:13 CEST 2025
2025-07-18T18:23:16.922+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:16.923+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:16.924+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:16.924+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:16.925+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:16.925+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:16.925+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:16.926+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:16.933+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-18T18:23:16.936+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-18T18:23:16.942+02:00  INFO 59527 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:16.956+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:16.956+02:00 DEBUG 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T18:23:16.956+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T18:23:16.957+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2a882681
2025-07-18T18:23:17.028+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:17.038+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:17.077+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:17.078+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:17.080+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:17.081+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-18T18:23:17.082+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn1: url=jdbc:h2:mem:testdb user=SA
2025-07-18T18:23:17.082+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-18T18:23:17.083+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:17.151+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T18:23:17.151+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:17.152+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:17.152+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:17.152+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:17.152+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:17.152+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:17.152+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:17.152+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T18:23:17.153+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T18:23:17.153+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T18:23:17.154+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T18:23:17.154+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T18:23:17.155+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T18:23:17.157+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T18:23:17.157+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.158+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.159+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T18:23:17.160+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.160+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.161+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T18:23:17.162+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:17.316+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:17.335+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-18T18:23:17.358+02:00 DEBUG 59527 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T18:23:17.361+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T18:23:17.362+02:00 DEBUG 59527 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T18:23:17.383+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.441 seconds (process running for 5.129)
2025-07-18T18:23:17.388+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:17.390+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:17.391+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:17.393+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:17.398+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2a882681, started on Fri Jul 18 18:23:16 CEST 2025
2025-07-18T18:23:17.400+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:17.400+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:17.401+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:17.401+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:17.402+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:17.402+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:17.403+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:17.403+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:17.404+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-18T18:23:17.404+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-18T18:23:17.407+02:00  INFO 59527 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:17.422+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:17.422+02:00 DEBUG 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T18:23:17.422+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T18:23:17.423+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5b265379
2025-07-18T18:23:17.493+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:17.502+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:17.538+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:17.539+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:17.541+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:17.542+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-18T18:23:17.543+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn2: url=jdbc:h2:mem:testdb user=SA
2025-07-18T18:23:17.543+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-18T18:23:17.543+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:17.610+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T18:23:17.610+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:17.610+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:17.610+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:17.610+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:17.610+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:17.610+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:17.610+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:17.611+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T18:23:17.611+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T18:23:17.612+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T18:23:17.612+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T18:23:17.613+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T18:23:17.615+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T18:23:17.616+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T18:23:17.616+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.617+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.618+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T18:23:17.618+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.619+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.619+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T18:23:17.620+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:17.730+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:17.745+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-18T18:23:17.760+02:00 DEBUG 59527 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T18:23:17.765+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T18:23:17.767+02:00 DEBUG 59527 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T18:23:17.782+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.374 seconds (process running for 5.527)
2025-07-18T18:23:17.787+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:17.789+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:17.791+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:17.792+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:17.794+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:17.798+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile */insert 
    into
        game_tiles (building_owner, building_type, defense_bonus, game_id, has_psi_states, is_locked, is_temporal_zone, lock_duration, movement_cost, temporal_energy_bonus, temporal_zone_type, terrain, x, y, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:17.802+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5b265379, started on Fri Jul 18 18:23:17 CEST 2025
2025-07-18T18:23:17.803+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:17.804+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:17.804+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:17.805+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:17.805+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:17.805+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:17.805+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:17.805+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:17.806+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-18T18:23:17.807+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-18T18:23:17.808+02:00  INFO 59527 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:17.820+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:17.820+02:00 DEBUG 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T18:23:17.820+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T18:23:17.822+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3f570944
2025-07-18T18:23:17.887+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:17.899+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:17.932+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:17.934+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:17.935+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:17.935+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-07-18T18:23:17.936+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection conn3: url=jdbc:h2:mem:testdb user=SA
2025-07-18T18:23:17.936+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-07-18T18:23:17.936+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:17.990+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T18:23:17.990+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:17.990+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:17.990+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:17.991+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:17.991+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:17.991+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:17.991+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:17.991+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T18:23:17.992+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T18:23:17.992+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T18:23:17.993+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T18:23:17.993+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T18:23:17.993+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T18:23:17.994+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T18:23:17.994+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.995+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.995+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T18:23:17.996+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T18:23:17.998+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.001+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T18:23:18.002+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:18.098+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:18.110+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-18T18:23:18.124+02:00 DEBUG 59527 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T18:23:18.126+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T18:23:18.127+02:00 DEBUG 59527 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T18:23:18.143+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.334 seconds (process running for 5.888)
2025-07-18T18:23:18.146+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.148+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.150+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.151+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.152+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.156+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3f570944, started on Fri Jul 18 18:23:17 CEST 2025
2025-07-18T18:23:18.157+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:18.157+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:18.157+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:18.157+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:18.158+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:18.158+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:18.158+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:18.158+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:18.160+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-07-18T18:23:18.161+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-07-18T18:23:18.165+02:00  INFO 59527 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:18.177+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:18.177+02:00 DEBUG 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T18:23:18.177+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T18:23:18.177+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2c956132
2025-07-18T18:23:18.229+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:18.236+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:18.267+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:18.268+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:18.269+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:18.270+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-07-18T18:23:18.270+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection conn4: url=jdbc:h2:mem:testdb user=SA
2025-07-18T18:23:18.270+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-07-18T18:23:18.271+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:18.325+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T18:23:18.325+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:18.325+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:18.325+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:18.325+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:18.326+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:18.326+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:18.326+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:18.326+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T18:23:18.326+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T18:23:18.327+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T18:23:18.327+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T18:23:18.327+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T18:23:18.328+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T18:23:18.329+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T18:23:18.330+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.331+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.333+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T18:23:18.336+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.337+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.338+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T18:23:18.339+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:18.444+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:18.459+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-18T18:23:18.472+02:00 DEBUG 59527 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T18:23:18.475+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T18:23:18.476+02:00 DEBUG 59527 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T18:23:18.491+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.326 seconds (process running for 6.236)
2025-07-18T18:23:18.494+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.496+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.498+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.501+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.503+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.504+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.509+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2c956132, started on Fri Jul 18 18:23:18 CEST 2025
2025-07-18T18:23:18.510+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:18.510+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:18.510+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:18.510+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:18.510+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:18.510+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:18.511+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:18.512+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:18.513+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-07-18T18:23:18.514+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-07-18T18:23:18.518+02:00  INFO 59527 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:18.528+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:18.528+02:00 DEBUG 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T18:23:18.528+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T18:23:18.528+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3f169051
2025-07-18T18:23:18.574+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:18.580+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:18.609+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:18.610+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:18.611+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:18.612+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-07-18T18:23:18.612+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection conn5: url=jdbc:h2:mem:testdb user=SA
2025-07-18T18:23:18.612+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-07-18T18:23:18.612+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:18.657+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T18:23:18.657+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:18.657+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:18.657+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:18.658+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:18.658+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:18.658+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:18.658+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:18.658+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T18:23:18.658+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T18:23:18.659+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T18:23:18.659+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T18:23:18.659+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T18:23:18.660+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T18:23:18.660+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T18:23:18.661+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.661+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.662+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T18:23:18.662+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.662+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.663+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T18:23:18.664+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:18.742+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:18.754+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-18T18:23:18.766+02:00 DEBUG 59527 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T18:23:18.768+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T18:23:18.770+02:00 DEBUG 59527 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T18:23:18.779+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.262 seconds (process running for 6.525)
2025-07-18T18:23:18.783+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.785+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.786+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.787+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.787+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:18.789+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3f169051, started on Fri Jul 18 18:23:18 CEST 2025
2025-07-18T18:23:18.789+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:18.789+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:18.789+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:18.790+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:18.790+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:18.790+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:18.790+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:18.790+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:18.791+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-07-18T18:23:18.791+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-07-18T18:23:18.792+02:00  INFO 59527 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:18.816+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:18.816+02:00 DEBUG 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T18:23:18.816+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T18:23:18.817+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@16678762
2025-07-18T18:23:18.865+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:18.874+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:18.898+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:18.899+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:18.900+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:18.900+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-07-18T18:23:18.901+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection conn6: url=jdbc:h2:mem:testdb user=SA
2025-07-18T18:23:18.901+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-07-18T18:23:18.901+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:18.944+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T18:23:18.944+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:18.944+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:18.944+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:18.944+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:18.944+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:18.944+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:18.944+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:18.944+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T18:23:18.945+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T18:23:18.945+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T18:23:18.946+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T18:23:18.946+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T18:23:18.947+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T18:23:18.948+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T18:23:18.948+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.949+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.949+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T18:23:18.950+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.950+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T18:23:18.951+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T18:23:18.951+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:19.043+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:19.052+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-18T18:23:19.061+02:00 DEBUG 59527 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T18:23:19.064+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T18:23:19.065+02:00 DEBUG 59527 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T18:23:19.074+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.282 seconds (process running for 6.82)
2025-07-18T18:23:19.076+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.078+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.079+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.083+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.084+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.087+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@16678762, started on Fri Jul 18 18:23:18 CEST 2025
2025-07-18T18:23:19.088+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:19.088+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:19.088+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:19.088+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:19.089+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:19.089+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:19.089+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:19.089+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:19.089+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-07-18T18:23:19.089+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-07-18T18:23:19.091+02:00  INFO 59527 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:19.100+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:19.100+02:00 DEBUG 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T18:23:19.100+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T18:23:19.101+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@179273ff
2025-07-18T18:23:19.148+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:19.154+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:19.180+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:19.182+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:19.184+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:19.184+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-07-18T18:23:19.185+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection conn7: url=jdbc:h2:mem:testdb user=SA
2025-07-18T18:23:19.185+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-07-18T18:23:19.186+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:19.225+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T18:23:19.225+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:19.225+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:19.225+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:19.225+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:19.226+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:19.226+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:19.226+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:19.226+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T18:23:19.226+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T18:23:19.226+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T18:23:19.227+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T18:23:19.227+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T18:23:19.227+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T18:23:19.228+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T18:23:19.228+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T18:23:19.229+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T18:23:19.229+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T18:23:19.231+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T18:23:19.231+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T18:23:19.232+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T18:23:19.233+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:19.302+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:19.317+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-18T18:23:19.327+02:00 DEBUG 59527 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T18:23:19.329+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T18:23:19.331+02:00 DEBUG 59527 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T18:23:19.343+02:00  INFO 59527 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.252 seconds (process running for 7.088)
2025-07-18T18:23:19.345+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.349+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.350+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.351+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.354+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.356+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:19.358+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@179273ff, started on Fri Jul 18 18:23:19 CEST 2025
2025-07-18T18:23:19.359+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:19.359+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:19.359+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:19.359+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:19.359+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:19.359+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:19.359+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:19.360+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:19.360+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-07-18T18:23:19.360+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
[ERROR] Tests run: 8, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 6.791 s <<< FAILURE! -- in com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest
[ERROR] com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest.testQuantumInterferenceScenario_TemporalEvolution -- Time elapsed: 0.018 s <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: not equal but was: <1.999999999999998>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertNotEquals.failEqual(AssertNotEquals.java:277)
	at org.junit.jupiter.api.AssertNotEquals.assertNotEquals(AssertNotEquals.java:219)
	at org.junit.jupiter.api.AssertNotEquals.assertNotEquals(AssertNotEquals.java:211)
	at org.junit.jupiter.api.Assertions.assertNotEquals(Assertions.java:2637)
	at com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest.testQuantumInterferenceScenario_TemporalEvolution(QuantumInterferenceIntegrationTest.java:234)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] Running com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest
2025-07-18T18:23:19.368+02:00  INFO 59527 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest]: QuantumArtifactsIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-18T18:23:19.370+02:00  INFO 59527 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.heroesoftimepoc.temporalengine.TemporalEngineApplication for test class com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest
2025-07-18T18:23:19.373+02:00  INFO 59527 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:19.383+02:00  INFO 59527 --- [           main] c.h.t.i.QuantumArtifactsIntegrationTest  : Starting QuantumArtifactsIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:19.385+02:00  INFO 59527 --- [           main] c.h.t.i.QuantumArtifactsIntegrationTest  : No active profile set, falling back to 1 default profile: "default"
2025-07-18T18:23:19.457+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:19.463+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:19.496+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:19.499+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:19.502+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:19.502+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-07-18T18:23:19.505+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection conn8: url=jdbc:h2:mem:quantumtestdb user=SA
2025-07-18T18:23:19.505+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-07-18T18:23:19.505+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:19.561+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: drop table if exists game_players cascade 
Hibernate: drop table if exists game_tiles cascade 
Hibernate: drop table if exists games cascade 
Hibernate: drop table if exists hero_inventory cascade 
Hibernate: drop table if exists heroes cascade 
Hibernate: drop table if exists psi_states cascade 
Hibernate: drop table if exists tile_occupants cascade 
Hibernate: create table game_players (game_id bigint not null, player_id varchar(255))
Hibernate: create table game_tiles (defense_bonus integer, has_psi_states boolean, is_locked boolean, is_temporal_zone boolean, lock_duration integer, movement_cost integer, temporal_energy_bonus integer, x integer not null, y integer not null, game_id bigint, id bigint generated by default as identity, building_owner varchar(255), building_type varchar(255), temporal_zone_type varchar(255), terrain varchar(255), primary key (id))
Hibernate: create table games (current_turn integer, map_height integer, map_width integer, max_players integer, created_at timestamp(6), ended_at timestamp(6), id bigint generated by default as identity, started_at timestamp(6), current_player varchar(255), current_timeline varchar(255), game_name varchar(255) not null, status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')), winner varchar(255), primary key (id))
Hibernate: create table hero_inventory (hero_id bigint not null, item varchar(255))
Hibernate: create table heroes (health integer, max_health integer, max_movement_points integer, max_temporal_energy integer, movement_points integer, position_x integer, position_y integer, temporal_energy integer, game_id bigint, id bigint generated by default as identity, name varchar(255) not null, player_id varchar(255), status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')), timeline_branch varchar(255), primary key (id))
Hibernate: create table psi_states (amplitude_imaginary float(53), amplitude_real float(53), delta_t integer, probability float(53), target_x integer, target_y integer, use_complex_amplitude boolean, created_at timestamp(6), game_id bigint, id bigint generated by default as identity, action_type varchar(255), branch_id varchar(255), collapse_trigger varchar(255), expression TEXT, owner_hero varchar(255), psi_id varchar(255) not null unique, status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')), primary key (id))
Hibernate: create table tile_occupants (tile_id bigint not null, occupant varchar(255))
Hibernate: alter table if exists game_players add constraint FKrbr2flqdav5ovyjas7q92u64r foreign key (game_id) references games
Hibernate: alter table if exists game_tiles add constraint FK9jnp7yfteauo45smvmxa8710m foreign key (game_id) references games
Hibernate: alter table if exists hero_inventory add constraint FKox21x0dd4fg7w81h3a8o6chu foreign key (hero_id) references heroes
Hibernate: alter table if exists heroes add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn foreign key (game_id) references games
Hibernate: alter table if exists psi_states add constraint FK9kbp67wo94i0jk9w4v3ja4meq foreign key (game_id) references games
Hibernate: alter table if exists tile_occupants add constraint FKia56skupqk3qxypotqpovr3gb foreign key (tile_id) references game_tiles
2025-07-18T18:23:19.574+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:19.647+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:19.678+02:00  INFO 59527 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:quantumtestdb'
2025-07-18T18:23:19.688+02:00  INFO 59527 --- [           main] c.h.t.i.QuantumArtifactsIntegrationTest  : Started QuantumArtifactsIntegrationTest in 0.315 seconds (process running for 7.433)
🌟 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
🔮 Artefacts quantiques chargés: 5
📜 Scripts quantiques chargés: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Test Artefacts Quantiques (ID: 1)
✅ Setup terminé

🔧 TEST 1: Sceptre de Foudre Quantique
=====================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
🧹 Nettoyage du test...
✅ Nettoyage terminé
🌟 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
🔮 Artefacts quantiques chargés: 5
📜 Scripts quantiques chargés: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Test Artefacts Quantiques (ID: 2)
✅ Setup terminé

🔧 TEST 2: Gantelets du Portail Temporel
========================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
🧹 Nettoyage du test...
✅ Nettoyage terminé
🌟 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
🔮 Artefacts quantiques chargés: 5
📜 Scripts quantiques chargés: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Test Artefacts Quantiques (ID: 3)
✅ Setup terminé

🔧 TEST 3: Masque des Probabilités
==================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
🧹 Nettoyage du test...
✅ Nettoyage terminé
🌟 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
🔮 Artefacts quantiques chargés: 5
📜 Scripts quantiques chargés: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Test Artefacts Quantiques (ID: 4)
✅ Setup terminé

🔧 TEST 4: Chaînes du Destin
============================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
🧹 Nettoyage du test...
✅ Nettoyage terminé
🌟 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
🔮 Artefacts quantiques chargés: 5
📜 Scripts quantiques chargés: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Test Artefacts Quantiques (ID: 5)
✅ Setup terminé

🔧 TEST 5: Bouclier Miroir Quantique
====================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
🧹 Nettoyage du test...
✅ Nettoyage terminé
🌟 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
🔮 Artefacts quantiques chargés: 5
📜 Scripts quantiques chargés: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Test Artefacts Quantiques (ID: 6)
✅ Setup terminé

🔧 TEST 6: Synergie Quantique Ultime
=====================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
🧹 Nettoyage du test...
✅ Nettoyage terminé
🌟 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
🔮 Artefacts quantiques chargés: 5
📜 Scripts quantiques chargés: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Test Artefacts Quantiques (ID: 7)
✅ Setup terminé

🔧 TEST 7: Validation Mathématique des Formules
===============================================
🧮 Formule: QUANTUM_LIGHTNING = Σ(P(hit_i) * damage_i) for all i in superposition
🧹 Nettoyage du test...
✅ Nettoyage terminé

🎉 RÉSUMÉ FINAL - TESTS ARTEFACTS QUANTIQUES TIER 6
===================================================
✅ Sceptre de Foudre Quantique: VALIDÉ
✅ Gantelets du Portail Temporel: VALIDÉ
✅ Masque des Probabilités: VALIDÉ
✅ Chaînes du Destin: VALIDÉ
✅ Bouclier Miroir Quantique: VALIDÉ
✅ Synergie Quantique Ultime: VALIDÉ
✅ Formules Mathématiques: VALIDÉES

🌟 TOUS LES ARTEFACTS QUANTIQUES TIER 6 OPÉRATIONNELS !
🚀 Système quantique avancé prêt pour la production !

[ERROR] Tests run: 7, Failures: 7, Errors: 0, Skipped: 0, Time elapsed: 0.390 s <<< FAILURE! -- in com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest
[ERROR] com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testQuantumLightningScepter -- Time elapsed: 0.022 s <<< FAILURE!
org.opentest4j.AssertionFailedError: Sceptre doit être équipé ==> expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:214)
	at com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testQuantumLightningScepter(QuantumArtifactsIntegrationTest.java:157)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testTemporalPortalGauntlet -- Time elapsed: 0.007 s <<< FAILURE!
org.opentest4j.AssertionFailedError: Gantelets doivent être équipés ==> expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:214)
	at com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testTemporalPortalGauntlet(QuantumArtifactsIntegrationTest.java:201)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testProbabilityMask -- Time elapsed: 0.006 s <<< FAILURE!
org.opentest4j.AssertionFailedError: Masque doit être équipé ==> expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:214)
	at com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testProbabilityMask(QuantumArtifactsIntegrationTest.java:240)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testFateChains -- Time elapsed: 0.007 s <<< FAILURE!
org.opentest4j.AssertionFailedError: Chaînes doivent être équipées ==> expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:214)
	at com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testFateChains(QuantumArtifactsIntegrationTest.java:279)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testQuantumMirrorShield -- Time elapsed: 0.006 s <<< FAILURE!
org.opentest4j.AssertionFailedError: Bouclier doit être équipé ==> expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:214)
	at com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testQuantumMirrorShield(QuantumArtifactsIntegrationTest.java:322)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testQuantumSynergy -- Time elapsed: 0.011 s <<< FAILURE!
org.opentest4j.AssertionFailedError: Champ d'incertitude doit être activé ==> expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:214)
	at com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testQuantumSynergy(QuantumArtifactsIntegrationTest.java:372)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testMathematicalFormulas -- Time elapsed: 0.005 s <<< FAILURE!
org.opentest4j.AssertionFailedError: Formule QUANTUM_LIGHTNING doit être valide ==> expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:214)
	at com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testMathematicalFormulas(QuantumArtifactsIntegrationTest.java:431)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] Running com.heroesoftimepoc.temporalengine.integration.BatailleTemporelleIntegrationTest
2025-07-18T18:23:19.766+02:00  INFO 59527 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.heroesoftimepoc.temporalengine.integration.BatailleTemporelleIntegrationTest]: BatailleTemporelleIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-18T18:23:19.768+02:00  INFO 59527 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.heroesoftimepoc.temporalengine.TemporalEngineApplication for test class com.heroesoftimepoc.temporalengine.integration.BatailleTemporelleIntegrationTest
🚀 Initialisation des tests de Bataille Temporelle
======================================================
2025-07-18T18:23:19.769+02:00  INFO 59527 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:19.776+02:00  INFO 59527 --- [           main] .h.t.i.BatailleTemporelleIntegrationTest : Starting BatailleTemporelleIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:19.776+02:00 DEBUG 59527 --- [           main] .h.t.i.BatailleTemporelleIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T18:23:19.776+02:00  INFO 59527 --- [           main] .h.t.i.BatailleTemporelleIntegrationTest : No active profile set, falling back to 1 default profile: "default"
2025-07-18T18:23:19.825+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:19.831+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:19.855+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:19.855+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:19.857+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:19.858+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2025-07-18T18:23:19.859+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection conn18: url=jdbc:h2:mem:temporaldb user=SA
2025-07-18T18:23:19.859+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2025-07-18T18:23:19.859+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:19.911+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: drop table if exists game_players cascade 
Hibernate: drop table if exists game_tiles cascade 
Hibernate: drop table if exists games cascade 
Hibernate: drop table if exists hero_inventory cascade 
Hibernate: drop table if exists heroes cascade 
Hibernate: drop table if exists psi_states cascade 
Hibernate: drop table if exists tile_occupants cascade 
Hibernate: create table game_players (game_id bigint not null, player_id varchar(255))
Hibernate: create table game_tiles (defense_bonus integer, has_psi_states boolean, is_locked boolean, is_temporal_zone boolean, lock_duration integer, movement_cost integer, temporal_energy_bonus integer, x integer not null, y integer not null, game_id bigint, id bigint generated by default as identity, building_owner varchar(255), building_type varchar(255), temporal_zone_type varchar(255), terrain varchar(255), primary key (id))
Hibernate: create table games (current_turn integer, map_height integer, map_width integer, max_players integer, created_at timestamp(6), ended_at timestamp(6), id bigint generated by default as identity, started_at timestamp(6), current_player varchar(255), current_timeline varchar(255), game_name varchar(255) not null, status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')), winner varchar(255), primary key (id))
Hibernate: create table hero_inventory (hero_id bigint not null, item varchar(255))
Hibernate: create table heroes (health integer, max_health integer, max_movement_points integer, max_temporal_energy integer, movement_points integer, position_x integer, position_y integer, temporal_energy integer, game_id bigint, id bigint generated by default as identity, name varchar(255) not null, player_id varchar(255), status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')), timeline_branch varchar(255), primary key (id))
Hibernate: create table psi_states (amplitude_imaginary float(53), amplitude_real float(53), delta_t integer, probability float(53), target_x integer, target_y integer, use_complex_amplitude boolean, created_at timestamp(6), game_id bigint, id bigint generated by default as identity, action_type varchar(255), branch_id varchar(255), collapse_trigger varchar(255), expression TEXT, owner_hero varchar(255), psi_id varchar(255) not null unique, status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')), primary key (id))
Hibernate: create table tile_occupants (tile_id bigint not null, occupant varchar(255))
Hibernate: alter table if exists game_players add constraint FKrbr2flqdav5ovyjas7q92u64r foreign key (game_id) references games
Hibernate: alter table if exists game_tiles add constraint FK9jnp7yfteauo45smvmxa8710m foreign key (game_id) references games
Hibernate: alter table if exists hero_inventory add constraint FKox21x0dd4fg7w81h3a8o6chu foreign key (hero_id) references heroes
Hibernate: alter table if exists heroes add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn foreign key (game_id) references games
Hibernate: alter table if exists psi_states add constraint FK9kbp67wo94i0jk9w4v3ja4meq foreign key (game_id) references games
Hibernate: alter table if exists tile_occupants add constraint FKia56skupqk3qxypotqpovr3gb foreign key (tile_id) references game_tiles
2025-07-18T18:23:19.922+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:19.988+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:20.020+02:00  INFO 59527 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:temporaldb'
2025-07-18T18:23:20.026+02:00  INFO 59527 --- [           main] .h.t.i.BatailleTemporelleIntegrationTest : Started BatailleTemporelleIntegrationTest in 0.257 seconds (process running for 7.771)
🔧 Setup du test...
📊 Scénario chargé: Bataille Temporelle
⚔️  Artefacts temporels chargés: 7
🐉 Créatures chargées: 4
📜 Scripts .hots chargés:
   - Setup: 23 commandes
   - Combat: 32 commandes
   - Finale: 58 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Bataille Temporelle Test (ID: 1)
✅ Setup terminé

🔧 TEST 1: Phase de Setup
=========================
📜 Exécution: HERO(Arthur)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: Hero Arthur created successfully
📜 Exécution: HERO(Morgana)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: Hero Morgana created successfully
📜 Exécution: MOV(Arthur, @5,5)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: Hero Arthur moved to (5,5)
📜 Exécution: MOV(Morgana, @15,15)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: Hero Morgana moved to (15,15)
📜 Exécution: EQUIP(Arthur, temporal_sword)
❌ Échec: Invalid script command
📜 Exécution: EQUIP(Arthur, mystic_orb)
❌ Échec: Invalid script command
📜 Exécution: EQUIP(Morgana, chrono_staff)
❌ Échec: Invalid script command
📜 Exécution: EQUIP(Morgana, reality_gem)
❌ Échec: Invalid script command
📜 Exécution: CREATE(CREATURE, DragonRouge, @10,10)
✅ Succès: DragonRouge created at (10,10)
📜 Exécution: CREATE(CREATURE, PhantomWarriors, @8,12)
✅ Succès: PhantomWarriors created at (8,12)
📜 Exécution: CREATE(ARTIFACT, LameAvantMonde, @10,10)
✅ Succès: Entity created: ARTIFACT LameAvantMonde
📜 Exécution: CREATE(ARTIFACT, HorlogeInversee, @3,17)
✅ Succès: Entity created: ARTIFACT HorlogeInversee
📜 Exécution: CREATE(ARTIFACT, OrbeProbabilite, @12,6)
✅ Succès: Entity created: ARTIFACT OrbeProbabilite
📜 Exécution: CREATE(ZONE, TemporalZone, @9,9, 3x3)
❌ Échec: Invalid script command
📜 Exécution: CREATE(ZONE, QuantumField, @1,1, 2x2)
❌ Échec: Invalid script command
📜 Exécution: ψ001: ⊙(Δt+1 @6,5 ⟶ MOV(Arthur, @6,5))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ001 created successfully
📜 Exécution: ψ002: ⊙(Δt+2 @14,15 ⟶ MOV(Morgana, @14,15))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ002 created successfully
📜 Exécution: ⟨ψ001 | OBSERVE(DragonRouge) ⟩ → †ψ001
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ001 collapsed successfully
📜 Exécution: LOG("Bataille Temporelle - Setup terminé")
❌ Échec: Invalid script command
📜 Exécution: LOG("Héros créés: Arthur, Morgana")
❌ Échec: Invalid script command
📜 Exécution: LOG("Créatures placées: Dragon Rouge, Guerriers Fantômes")
❌ Échec: Invalid script command
📜 Exécution: LOG("Artefacts temporels: 3 objets placés")
❌ Échec: Invalid script command
📜 Exécution: LOG("États ψ actifs: 2 superpositions")
❌ Échec: Invalid temporal script

📊 Résultats Setup:
   - Commandes exécutées: 12/23
   - Taux de réussite: 52.17391304347826%
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: select h1_0.id,h1_0.game_id,h1_0.health,h1_0.max_health,h1_0.max_movement_points,h1_0.max_temporal_energy,h1_0.movement_points,h1_0.name,h1_0.player_id,h1_0.position_x,h1_0.position_y,h1_0.status,h1_0.temporal_energy,h1_0.timeline_branch from heroes h1_0 where h1_0.game_id=?
Hibernate: select ps1_0.id,ps1_0.action_type,ps1_0.branch_id,ps1_0.collapse_trigger,ps1_0.amplitude_imaginary,ps1_0.amplitude_real,ps1_0.created_at,ps1_0.delta_t,ps1_0.expression,ps1_0.game_id,ps1_0.owner_hero,ps1_0.probability,ps1_0.psi_id,ps1_0.status,ps1_0.target_x,ps1_0.target_y,ps1_0.use_complex_amplitude from psi_states ps1_0 where ps1_0.game_id=?
✅ Phase de Setup validée
🧹 Nettoyage du test...
✅ Nettoyage terminé
🔧 Setup du test...
📊 Scénario chargé: Bataille Temporelle
⚔️  Artefacts temporels chargés: 7
🐉 Créatures chargées: 4
📜 Scripts .hots chargés:
   - Setup: 23 commandes
   - Combat: 32 commandes
   - Finale: 58 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Bataille Temporelle Test (ID: 2)
✅ Setup terminé

⚔️  TEST 2: Phase de Combat
===========================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
📜 Exécution: ψ003: ⊙(Δt+1 @6,6 ⟶ MOV(Arthur, @6,6))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ003 created successfully
📜 Exécution: ψ004: ⊙(Δt+1 @6,4 ⟶ MOV(Arthur, @6,4))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ004 created successfully
📜 Exécution: ψ005: ⊙(Δt+1 @7,5 ⟶ MOV(Arthur, @7,5))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ005 created successfully
📜 Exécution: ⟨ψ003 ∧ ψ004 ∧ ψ005 | OBSERVE(Morgana) ⟩ → †ψ003
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ003 collapsed successfully
📜 Exécution: USE(ARTIFACT, temporal_sword, HERO:Arthur)
✅ Succès: Used ARTIFACT temporal_sword
📜 Exécution: ψ006: ⊙(Δt+1 @9,9 ⟶ BATTLE(Arthur, DragonRouge))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ006 created successfully
📜 Exécution: BRANCH(TimeLine_A): ψ007: ⊙(Δt+2 @10,8 ⟶ CAST(Arthur, quantum_leap))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ007 created successfully
📜 Exécution: BRANCH(TimeLine_B): ψ008: ⊙(Δt+2 @10,12 ⟶ CAST(Arthur, time_anchor))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ008 created successfully
📜 Exécution: ψ009: ⊙(Δt+1 @14,14 ⟶ MOV(Morgana, @14,14))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ009 created successfully
📜 Exécution: USE(ARTIFACT, chrono_staff, HERO:Morgana)
✅ Succès: Used ARTIFACT chrono_staff
📜 Exécution: ψ010: ⊙(Δt+2 @11,11 ⟶ CAST(Morgana, temporal_shield))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ010 created successfully
📜 Exécution: ψ011: ⊙(Δt+3 @10,10 ⟶ COLLECT(Arthur, LameAvantMonde))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ011 created successfully
📜 Exécution: ψ012: ⊙(Δt+3 @10,10 ⟶ COLLECT(Morgana, LameAvantMonde))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ012 created successfully
📜 Exécution: ⟨ψ011 ∧ ψ012 | QUANTUM_CONFLICT(@10,10) ⟩ → RESOLVE(probability_wave)
❌ Échec: Invalid temporal script
📜 Exécution: ψ013: ⊙(Δt+1 @8,12 ⟶ BATTLE(Arthur, PhantomWarriors))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ013 created successfully
📜 Exécution: †ψ013  # Collapse immédiat pour battle fantôme
✅ Succès: ψ state ψ013 collapsed successfully
📜 Exécution: USE(ARTIFACT, HorlogeInversee, HERO:Morgana)
✅ Succès: Used ARTIFACT HorlogeInversee
📜 Exécution: REWIND(2)  # Retour 2 tours en arrière
❌ Échec: Invalid script command
📜 Exécution: ψ014: ⊙(Δt+1 @16,16 ⟶ MOV(Morgana, @16,16))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ014 created successfully
📜 Exécution: ψ015: ⊙(Δt+2 @12,6 ⟶ COLLECT(Morgana, OrbeProbabilite))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ015 created successfully
📜 Exécution: USE(ARTIFACT, OrbeProbabilite, HERO:Morgana)
✅ Succès: Used ARTIFACT OrbeProbabilite
📜 Exécution: BOOST(probability, 0.25)
❌ Échec: Invalid script command
📜 Exécution: ψ016: ⊙(Δt+1 P=0.85 @11,10 ⟶ BATTLE(Morgana, DragonRouge))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ016 created successfully
📜 Exécution: ⟨ψ014 | OBSERVE(Arthur) ⟩ → †ψ014
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ014 collapsed successfully
📜 Exécution: ⟨ψ015 | OBSERVE(DragonRouge) ⟩ → †ψ015
✅ Succès: ψ state ψ015 collapsed successfully
📜 Exécution: ⟨ψ016 | OBSERVE(PhantomWarriors) ⟩ → †ψ016
✅ Succès: ψ state ψ016 collapsed successfully
📜 Exécution: LOG("Combat Phase - Mécaniques temporelles testées")
❌ Échec: Invalid script command
📜 Exécution: LOG("Superpositions créées: 7 états ψ")
❌ Échec: Invalid temporal script
📜 Exécution: LOG("Collapse déclenchés: 6 observations")
❌ Échec: Invalid script command
📜 Exécution: LOG("Artefacts utilisés: 3 objets temporels")
❌ Échec: Invalid script command
📜 Exécution: LOG("Conflits temporels: 1 résolution quantique")
❌ Échec: Invalid script command
📜 Exécution: LOG("Rewind effectué: 2 tours")
❌ Échec: Invalid script command

📊 Résultats Combat:
   - Commandes exécutées: 23/32
   - États ψ créés: 19
   - Collapses déclenchés: 5
   - Taux de réussite: 71.875%
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: select ps1_0.id,ps1_0.action_type,ps1_0.branch_id,ps1_0.collapse_trigger,ps1_0.amplitude_imaginary,ps1_0.amplitude_real,ps1_0.created_at,ps1_0.delta_t,ps1_0.expression,ps1_0.game_id,ps1_0.owner_hero,ps1_0.probability,ps1_0.psi_id,ps1_0.status,ps1_0.target_x,ps1_0.target_y,ps1_0.use_complex_amplitude from psi_states ps1_0 where ps1_0.game_id=?
   - États ψ actifs: 10
   - États ψ totaux: 16
✅ Phase de Combat validée
🧹 Nettoyage du test...
✅ Nettoyage terminé
🔧 Setup du test...
📊 Scénario chargé: Bataille Temporelle
⚔️  Artefacts temporels chargés: 7
🐉 Créatures chargées: 4
📜 Scripts .hots chargés:
   - Setup: 23 commandes
   - Combat: 32 commandes
   - Finale: 58 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Bataille Temporelle Test (ID: 3)
✅ Setup terminé

🏁 TEST 3: Phase Finale
========================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
📜 Exécution: ψ017: ⊙(Δt+1 @9,9 ⟶ MOV(Arthur, @9,9))  # Zone temporelle
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ017 created successfully
📜 Exécution: ψ018: ⊙(Δt+1 @10,9 ⟶ MOV(Morgana, @10,9))  # Zone temporelle
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ018 created successfully
📜 Exécution: ψ019: ⊙(Δt+2 @10,10 ⟶ BATTLE(Arthur, DragonRouge))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ019 created successfully
📜 Exécution: ψ020: ⊙(Δt+2 @10,10 ⟶ BATTLE(Morgana, DragonRouge))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ020 created successfully
📜 Exécution: ⟨ψ019 ∧ ψ020 | QUANTUM_ENTANGLEMENT(@10,10) ⟩ → SUPERPOSITION(dual_victory)
❌ Échec: Invalid temporal script
📜 Exécution: USE(ARTIFACT, LameAvantMonde, HERO:Arthur)
✅ Succès: Used ARTIFACT LameAvantMonde
📜 Exécution: QUANTUM_STRIKE(Arthur, DragonRouge, P=0.95)
❌ Échec: Invalid script command
📜 Exécution: CAPTURE(Arthur, TemporalZone)
❌ Échec: Invalid script command
📜 Exécution: HOLD(TemporalZone, 1)  # Tour 1 de contrôle
❌ Échec: Invalid script command
📜 Exécution: ψ021: ⊙(Δt+1 @11,11 ⟶ CREATE(PARADOX, temporal_loop))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ021 created successfully
📜 Exécution: RESOLVE(PARADOX, temporal_loop, METHOD:quantum_decoherence)
❌ Échec: Invalid script command
📜 Exécution: ψ022: ⊙(Δt+1 @8,12 ⟶ BATTLE(Arthur, PhantomWarriors))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ022 created successfully
📜 Exécution: ψ023: ⊙(Δt+1 @8,12 ⟶ BATTLE(Morgana, PhantomWarriors))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ023 created successfully
📜 Exécution: †ψ022  # Arthur battle fantôme
✅ Succès: ψ state ψ022 collapsed successfully
📜 Exécution: †ψ023  # Morgana battle fantôme
✅ Succès: ψ state ψ023 collapsed successfully
📜 Exécution: TEMPORAL_BOOST(Arthur, energy=25)
❌ Échec: Invalid script command
📜 Exécution: TEMPORAL_BOOST(Morgana, energy=25)
❌ Échec: Invalid script command
📜 Exécution: ψ024: ⊙(Δt+1 @12,6 ⟶ COLLECT(Arthur, OrbeProbabilite))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ024 created successfully
📜 Exécution: †ψ024
✅ Succès: ψ state ψ024 collapsed successfully
📜 Exécution: CHECK(VICTORY_CONDITION, ELIMINATE_ENEMY_HEROES)
❌ Échec: Invalid script command
📜 Exécution: CHECK(VICTORY_CONDITION, COLLECT_TEMPORAL_ARTIFACTS)
❌ Échec: Invalid script command
📜 Exécution: CHECK(VICTORY_CONDITION, CONTROL_TEMPORAL_ZONES)
❌ Échec: Invalid script command
📜 Exécution: BRANCH(Victory_Timeline): ψ025: ⊙(Δt+1 @10,10 ⟶ VICTORY(Arthur))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ025 created successfully
📜 Exécution: BRANCH(Defeat_Timeline): ψ026: ⊙(Δt+1 @10,10 ⟶ DEFEAT(Arthur))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
✅ Succès: ψ state ψ026 created successfully
📜 Exécution: ⟨ψ025 ∧ ψ026 | OBSERVE(universal_witness) ⟩ → COLLAPSE(final_state)
❌ Échec: Invalid temporal script
📜 Exécution: CLEANUP(expired_psi_states)
❌ Échec: Invalid script command
📜 Exécution: RESTORE(timeline_coherence)
❌ Échec: Invalid script command
📜 Exécution: LOG("Bataille Temporelle - Finale terminée")
❌ Échec: Invalid script command
📜 Exécution: LOG("États ψ totaux créés: 26 superpositions")
❌ Échec: Invalid temporal script
📜 Exécution: LOG("Collapses effectués: 15 observations")
❌ Échec: Invalid script command
📜 Exécution: LOG("Artefacts temporels utilisés: 5 objets")
❌ Échec: Invalid script command
📜 Exécution: LOG("Paradoxes résolus: 1 boucle temporelle")
❌ Échec: Invalid script command
📜 Exécution: LOG("Zones temporelles contrôlées: 1 zone")
❌ Échec: Invalid script command
📜 Exécution: LOG("Batailles fantômes: 4 combats")
❌ Échec: Invalid script command
📜 Exécution: LOG("Branching temporels: 3 timelines")
❌ Échec: Invalid script command
📜 Exécution: LOG("Résolution quantique: 2 entanglements")
❌ Échec: Invalid script command
📜 Exécution: STATS("Arthur", {
❌ Échec: Invalid script command
📜 Exécution: "movements": 8,
❌ Échec: Invalid script command
📜 Exécution: "battles": 5,
❌ Échec: Invalid script command
📜 Exécution: "artifacts_used": 3,
❌ Échec: Invalid script command
📜 Exécution: "psi_states_created": 12,
❌ Échec: Invalid script command
📜 Exécution: "quantum_actions": 6,
❌ Échec: Invalid script command
📜 Exécution: "temporal_energy_used": 180,
❌ Échec: Invalid script command
📜 Exécution: "victory_probability": 0.73
❌ Échec: Invalid script command
📜 Exécution: })
❌ Échec: Invalid script command
📜 Exécution: STATS("Morgana", {
❌ Échec: Invalid script command
📜 Exécution: "movements": 7,
❌ Échec: Invalid script command
📜 Exécution: "battles": 4,
❌ Échec: Invalid script command
📜 Exécution: "artifacts_used": 2,
❌ Échec: Invalid script command
📜 Exécution: "psi_states_created": 10,
❌ Échec: Invalid script command
📜 Exécution: "quantum_actions": 5,
❌ Échec: Invalid script command
📜 Exécution: "temporal_energy_used": 165,
❌ Échec: Invalid script command
📜 Exécution: "victory_probability": 0.68
❌ Échec: Invalid script command
📜 Exécution: })
❌ Échec: Invalid script command
📜 Exécution: LOG("=== BATAILLE TEMPORELLE COMPLETE ===")
❌ Échec: Invalid script command
📜 Exécution: LOG("Toutes les mécaniques temporelles ont été testées avec succès")
❌ Échec: Invalid script command
📜 Exécution: LOG("Le moteur quantique fonctionne correctement")
❌ Échec: Invalid script command
📜 Exécution: LOG("Scénario de test validé pour intégration continue")
❌ Échec: Invalid script command

📊 Résultats Finale:
   - Commandes exécutées: 14/58
   - Taux de réussite: 24.137931034482758%
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: select ps1_0.id,ps1_0.action_type,ps1_0.branch_id,ps1_0.collapse_trigger,ps1_0.amplitude_imaginary,ps1_0.amplitude_real,ps1_0.created_at,ps1_0.delta_t,ps1_0.expression,ps1_0.game_id,ps1_0.owner_hero,ps1_0.probability,ps1_0.psi_id,ps1_0.status,ps1_0.target_x,ps1_0.target_y,ps1_0.use_complex_amplitude from psi_states ps1_0 where ps1_0.game_id=?
   - États ψ finaux: 26
✅ Phase Finale validée
🧹 Nettoyage du test...
✅ Nettoyage terminé
🔧 Setup du test...
📊 Scénario chargé: Bataille Temporelle
⚔️  Artefacts temporels chargés: 7
🐉 Créatures chargées: 4
📜 Scripts .hots chargés:
   - Setup: 23 commandes
   - Combat: 32 commandes
   - Finale: 58 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
🎮 Partie créée: Bataille Temporelle Test (ID: 4)
✅ Setup terminé

🎯 TEST 4: Validation Système Complet
=====================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)

📊 STATISTIQUES FINALES:
==========================
   - Commandes totales: 113
   - Commandes réussies: 49
   - Taux de réussite global: 43.36283185840708%
   - Héros finaux: 2
   - États ψ finaux: 17
   - Tuiles finales: 5
🧹 Nettoyage du test...
✅ Nettoyage terminé
[ERROR] Tests run: 4, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.492 s <<< FAILURE! -- in com.heroesoftimepoc.temporalengine.integration.BatailleTemporelleIntegrationTest
[ERROR] com.heroesoftimepoc.temporalengine.integration.BatailleTemporelleIntegrationTest.testCompleteSystem -- Time elapsed: 0.047 s <<< FAILURE!
org.opentest4j.AssertionFailedError: Au moins 80% des commandes doivent réussir ==> expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:214)
	at com.heroesoftimepoc.temporalengine.integration.BatailleTemporelleIntegrationTest.testCompleteSystem(BatailleTemporelleIntegrationTest.java:404)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] Running com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest
2025-07-18T18:23:20.254+02:00  INFO 59527 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest]: TemporalEngineIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-18T18:23:20.260+02:00  INFO 59527 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.heroesoftimepoc.temporalengine.TemporalEngineApplication for test class com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest
2025-07-18T18:23:20.261+02:00  INFO 59527 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T18:23:20.282+02:00  INFO 59527 --- [           main] c.h.t.TemporalEngineIntegrationTest      : Starting TemporalEngineIntegrationTest using Java 17.0.15 with PID 59527 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T18:23:20.283+02:00 DEBUG 59527 --- [           main] c.h.t.TemporalEngineIntegrationTest      : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T18:23:20.283+02:00  INFO 59527 --- [           main] c.h.t.TemporalEngineIntegrationTest      : The following 1 profile is active: "test"
2025-07-18T18:23:20.284+02:00 DEBUG 59527 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@59b1a759
2025-07-18T18:23:20.334+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T18:23:20.340+02:00  INFO 59527 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 4 JPA repository interfaces.
2025-07-18T18:23:20.362+02:00  INFO 59527 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T18:23:20.363+02:00  INFO 59527 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T18:23:20.365+02:00  INFO 59527 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T18:23:20.365+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2025-07-18T18:23:20.366+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection conn28: url=jdbc:h2:mem:testdb user=SA
2025-07-18T18:23:20.366+02:00  INFO 59527 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2025-07-18T18:23:20.366+02:00  WARN 59527 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T18:23:20.417+02:00  INFO 59527 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T18:23:20.417+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T18:23:20.417+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T18:23:20.417+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T18:23:20.417+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T18:23:20.417+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T18:23:20.418+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T18:23:20.418+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T18:23:20.418+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T18:23:20.418+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T18:23:20.418+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T18:23:20.419+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T18:23:20.419+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T18:23:20.419+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T18:23:20.420+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T18:23:20.420+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T18:23:20.420+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T18:23:20.421+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T18:23:20.421+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T18:23:20.421+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T18:23:20.422+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T18:23:20.423+02:00  INFO 59527 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T18:23:20.485+02:00  WARN 59527 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T18:23:20.493+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-18T18:23:20.503+02:00 DEBUG 59527 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T18:23:20.505+02:00 DEBUG 59527 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T18:23:20.506+02:00 DEBUG 59527 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T18:23:20.515+02:00  INFO 59527 --- [           main] c.h.t.TemporalEngineIntegrationTest      : Started TemporalEngineIntegrationTest in 0.254 seconds (process running for 8.26)
2025-07-18T18:23:20.518+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.519+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.520+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.521+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile */insert 
    into
        game_tiles (building_owner, building_type, defense_bonus, game_id, has_psi_states, is_locked, is_temporal_zone, lock_duration, movement_cost, temporal_energy_bonus, temporal_zone_type, terrain, x, y, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.524+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.Hero */update heroes 
    set
        game_id=?,
        health=?,
        max_health=?,
        max_movement_points=?,
        max_temporal_energy=?,
        movement_points=?,
        name=?,
        player_id=?,
        position_x=?,
        position_y=?,
        status=?,
        temporal_energy=?,
        timeline_branch=? 
    where
        id=?
2025-07-18T18:23:20.526+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T18:23:20.526+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T18:23:20.526+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile.occupants */insert 
    into
        tile_occupants (tile_id, occupant) 
    values
        (?, ?)
2025-07-18T18:23:20.526+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        h 
    FROM
        Hero h 
    WHERE
        h.game.id = :gameId */ select
            h1_0.id,
            h1_0.game_id,
            h1_0.health,
            h1_0.max_health,
            h1_0.max_movement_points,
            h1_0.max_temporal_energy,
            h1_0.movement_points,
            h1_0.name,
            h1_0.player_id,
            h1_0.position_x,
            h1_0.position_y,
            h1_0.status,
            h1_0.temporal_energy,
            h1_0.timeline_branch 
        from
            heroes h1_0 
        where
            h1_0.game_id=?
2025-07-18T18:23:20.530+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.532+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.533+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.534+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.536+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T18:23:20.536+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        p 
    FROM
        PsiState p 
    WHERE
        p.game.id = :gameId */ select
            ps1_0.id,
            ps1_0.action_type,
            ps1_0.branch_id,
            ps1_0.collapse_trigger,
            ps1_0.amplitude_imaginary,
            ps1_0.amplitude_real,
            ps1_0.created_at,
            ps1_0.delta_t,
            ps1_0.expression,
            ps1_0.game_id,
            ps1_0.owner_hero,
            ps1_0.probability,
            ps1_0.psi_id,
            ps1_0.status,
            ps1_0.target_x,
            ps1_0.target_y,
            ps1_0.use_complex_amplitude 
        from
            psi_states ps1_0 
        where
            ps1_0.game_id=?
2025-07-18T18:23:20.545+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile */insert 
    into
        game_tiles (building_owner, building_type, defense_bonus, game_id, has_psi_states, is_locked, is_temporal_zone, lock_duration, movement_cost, temporal_energy_bonus, temporal_zone_type, terrain, x, y, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.550+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.551+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.552+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.552+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.561+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.562+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.563+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.568+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.571+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.573+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.573+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.574+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.575+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T18:23:20.575+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        p 
    FROM
        PsiState p 
    WHERE
        p.game.id = :gameId */ select
            ps1_0.id,
            ps1_0.action_type,
            ps1_0.branch_id,
            ps1_0.collapse_trigger,
            ps1_0.amplitude_imaginary,
            ps1_0.amplitude_real,
            ps1_0.created_at,
            ps1_0.delta_t,
            ps1_0.expression,
            ps1_0.game_id,
            ps1_0.owner_hero,
            ps1_0.probability,
            ps1_0.psi_id,
            ps1_0.status,
            ps1_0.target_x,
            ps1_0.target_y,
            ps1_0.use_complex_amplitude 
        from
            psi_states ps1_0 
        where
            ps1_0.game_id=?
2025-07-18T18:23:20.576+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile */insert 
    into
        game_tiles (building_owner, building_type, defense_bonus, game_id, has_psi_states, is_locked, is_temporal_zone, lock_duration, movement_cost, temporal_energy_bonus, temporal_zone_type, terrain, x, y, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.576+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile */insert 
    into
        game_tiles (building_owner, building_type, defense_bonus, game_id, has_psi_states, is_locked, is_temporal_zone, lock_duration, movement_cost, temporal_energy_bonus, temporal_zone_type, terrain, x, y, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.579+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.581+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.586+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T18:23:20.587+02:00 DEBUG 59527 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
[ERROR] Tests run: 7, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 0.338 s <<< FAILURE! -- in com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest
[ERROR] com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testCompleteTemporalScenario -- Time elapsed: 0.011 s <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:183)
	at com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testCompleteTemporalScenario(TemporalEngineIntegrationTest.java:73)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testComplexBattleScenario -- Time elapsed: 0.006 s <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:183)
	at com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testComplexBattleScenario(TemporalEngineIntegrationTest.java:175)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testErrorRecovery -- Time elapsed: 0.006 s <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:183)
	at com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testErrorRecovery(TemporalEngineIntegrationTest.java:221)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   TemporalEngineIntegrationTest.testCompleteTemporalScenario:73 expected: <true> but was: <false>
[ERROR]   TemporalEngineIntegrationTest.testComplexBattleScenario:175 expected: <true> but was: <false>
[ERROR]   TemporalEngineIntegrationTest.testErrorRecovery:221 expected: <true> but was: <false>
[ERROR]   BatailleTemporelleIntegrationTest.testCompleteSystem:404 Au moins 80% des commandes doivent réussir ==> expected: <true> but was: <false>
[ERROR]   QuantumArtifactsIntegrationTest.testFateChains:279 Chaînes doivent être équipées ==> expected: <true> but was: <false>
[ERROR]   QuantumArtifactsIntegrationTest.testMathematicalFormulas:431 Formule QUANTUM_LIGHTNING doit être valide ==> expected: <true> but was: <false>
[ERROR]   QuantumArtifactsIntegrationTest.testProbabilityMask:240 Masque doit être équipé ==> expected: <true> but was: <false>
[ERROR]   QuantumArtifactsIntegrationTest.testQuantumLightningScepter:157 Sceptre doit être équipé ==> expected: <true> but was: <false>
[ERROR]   QuantumArtifactsIntegrationTest.testQuantumMirrorShield:322 Bouclier doit être équipé ==> expected: <true> but was: <false>
[ERROR]   QuantumArtifactsIntegrationTest.testQuantumSynergy:372 Champ d'incertitude doit être activé ==> expected: <true> but was: <false>
[ERROR]   QuantumArtifactsIntegrationTest.testTemporalPortalGauntlet:201 Gantelets doivent être équipés ==> expected: <true> but was: <false>
[ERROR]   QuantumInterferenceIntegrationTest.testQuantumInterferenceScenario_TemporalEvolution:234 expected: not equal but was: <1.999999999999998>
[INFO] 
[ERROR] Tests run: 26, Failures: 12, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  9.239 s
[INFO] Finished at: 2025-07-18T18:23:20+02:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project temporal-engine: There are test failures.
[ERROR] 
[ERROR] Please refer to /Users/admin/HOT/Heroes-of-Time/backend/target/surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
