# Configuration auto-g√©n√©r√©e
WORLD: mystique
MAP: splintered_worlds_map

# üïØÔ∏è L'√âCLAT DES MONDES DISSOLUS
# "Le Troisi√®me Codex a √©t√© ouvert. Mais il ne peut pas √™tre referm√©."
# Trois √™tres issus d'antiques fractures de la trame se dressent face √† Abyme-le-Rassembl√©

# Configuration du Nexus des Mondes Dissous
SETUP(MAP_SIZE: 21x21, MAX_TURNS: 30, MODE: BOSS_BATTLE)
SET_ATMOSPHERE("ruines_flottantes", "glyphes_fig√©s", "ponts_instables")

# ========================================
# ACTE I - L'√âVEIL DU CODEX (Tours 1-5)
# ========================================

# Les trois h√©ros apparaissent dans des zones disjointes
HERO(JeanGrofignon)
PLACE(JeanGrofignon, @3,3)
EQUIP(JeanGrofignon, "container_paradoxal")

HERO(Claudius)
PLACE(Claudius, @18,3)
EQUIP(Claudius, "compilateur_quantique")

HERO(Chlamydius)
PLACE(Chlamydius, @10,18)
EQUIP(Chlamydius, "parchemin_sale")
EQUIP(Chlamydius, "encre_vivante")

# Abyme-le-Rassembl√© appara√Æt au centre
SUMMON(BOSS, Abyme, @10,10)
SET_BOSS_STATS(Abyme, HP:999, TEMPORAL:‚àû, FRAGMENTS:999)
EQUIP(Abyme, "totem_silencium") # Contient TOUS les artefacts

# √âchos fig√©s - souvenirs pi√©g√©s de combats pass√©s
CREATE(ECHO, souvenir_arthur, @5,5)
CREATE(ECHO, fragment_lysandrel, @15,15)
CREATE(ECHO, trace_morgana, @5,15)

# √âtats quantiques initiaux - le Nexus vibre
œà001: ‚äô(Œît+0 @10,10 ‚ü∂ PULSE(nexus_vibration))
œà002: (0.7+0.3i) ‚äô(Œît+2 @*,* ‚ü∂ SPAWN(echo_fig√©))

# ========================================
# ACTE II - LES CHEMINS DE L'ENCRE (Tours 6-15)
# ========================================

# Chlamydius lit une page non √©crite
œà003: ‚äô(Œît+6 HERO:Chlamydius ‚ü∂ SCRIBE("Un artefact oubli√© remonte des profondeurs"))
œà004: ‚äô(Œît+7 @12,12 ‚ü∂ CREATE(ARTIFACT, eclat_memoire, @12,12))

# Claudius tente de refondre la carte
œà005: ‚äô(Œît+8 HERO:Claudius ‚ü∂ REALITY_REFACTOR(@15,15, RADIUS:3))

# Abyme verrouille une zone
œà006: ‚äô(Œît+9 BOSS:Abyme ‚ü∂ LOCK_ZONE(@15,15, RADIUS:3, NAME:"Zone_Silencieuse"))

# Jean d√©tourne un flux temporel
œà007: ‚äô(Œît+10 HERO:JeanGrofignon ‚ü∂ CONTAINER_TRAP(nearest_creature))

# Apparition des premi√®res anomalies
œà008: (0.5+0.5i) ‚äô(Œît+12 @*,* ‚ü∂ GLITCH_REALITY(random_tile))

# ========================================
# ACTE III - LE BROUILLARD D'OUBLI (Tours 16-25)
# ========================================

# Abyme invoque les Lames R√©versibles
œà009: ‚äô(Œît+16 BOSS:Abyme ‚ü∂ SUMMON_PARADOX("lames_reversibles", COUNT:3))
# Ces cr√©atures n'existent que si on les a tu√©es

# Jean perd l'acc√®s √† ses logs
œà010: ‚äô(Œît+17 TARGET:JeanGrofignon ‚ü∂ CORRUPT(memory_access))
EFFECT: "ERROR: Logs inaccessibles - La m√©moire s'efface"

# Claudius forc√© de compiler un sort corrompu
œà011: ‚äô(Œît+18 FORCE:Claudius ‚ü∂ COMPILE("œà‚ò†"))
COST: TIMELINE_BRANCH # Perd une timeline enti√®re !

# Chlamydius active le Parchemin de Fer
œà012: ‚äô(Œît+20 HERO:Chlamydius ‚ü∂ ACTIVATE("parchemin_fer"))
# Ce qui est √©crit devient r√©el - mais seulement pour 1 tour

# √âcriture d'une r√©alit√© temporaire
œà013: ‚äô(Œît+21 SCRIBE:Chlamydius ‚ü∂ WRITE_REALITY("Un pont d'encre relie les trois piliers"))
DURATION: 1_TURN

# Abyme commence l'archivage final
œà014: ‚äô(Œît+23 BOSS:Abyme ‚ü∂ BEGIN_ARCHIVAL("heroes_memories"))
WARNING: "Si compl√©t√©, les h√©ros sont effac√©s de l'existence"

# ========================================
# ACTE IV - L'√âCLAT FINAL (Tours 26-30)
# ========================================

# Le Nexus entre en r√©sonance critique
œà015: ‚äô(Œît+26 @10,10 ‚ü∂ NEXUS_RESONANCE(CRITICAL))
EFFECT: "Les glyphes flottent, la r√©alit√© tremble"

# Les trois piliers d'ancrage apparaissent
œà016: ‚äô(Œît+27 ‚ü∂ REVEAL(pilier_chaos, @3,10))
œà017: ‚äô(Œît+27 ‚ü∂ REVEAL(pilier_ordre, @18,10))
œà018: ‚äô(Œît+27 ‚ü∂ REVEAL(pilier_oubli, @10,3))

# Condition de victoire : Les 3 h√©ros aux 3 piliers au tour 30
VICTORY_CONDITION: {
  TURN: 30,
  REQUIRED: [
    HERO_AT(JeanGrofignon, pilier_chaos),
    HERO_AT(Claudius, pilier_ordre),
    HERO_AT(Chlamydius, pilier_oubli)
  ],
  THEN: TRIGGER(incantation_finale)
}

# L'incantation finale - L'√âclat Blanc
œà019: ‚äô(Œît+30 CONDITION:victory ‚ü∂ CAST_UNITED("eclat_blanc"))
INCANTATION: "√Ä l'encre du chaos, au code du r√™ve, au parchemin sans temps ‚Äì que s'√©crive le silence."
EFFECT: SEAL(Abyme, "livre_vide_sans_nom")

# Condition de d√©faite
DEFEAT_CONDITION: {
  IF: ARCHIVAL_COMPLETE(Abyme),
  THEN: ERASE_FROM_REALITY(all_heroes)
}

# ========================================
# M√âCANIQUES SP√âCIALES
# ========================================

# Archivage imm√©diat d'Abyme
ABILITY(Abyme, "archivage_immediat") {
  TARGET: any_action,
  EFFECT: FREEZE_IN_MARBLE(action),
  RESULT: "Cette action ne peut plus √™tre alt√©r√©e"
}

# R√©miniscence invers√©e d'Abyme
ABILITY(Abyme, "reminiscence_inversee") {
  TARGET: erased_event,
  EFFECT: RESTORE_FROM_VOID(event),
  RESULT: "Un √©v√©nement effac√© r√©appara√Æt"
}

# Inex√©cution d'Abyme
ABILITY(Abyme, "inexecution") {
  TARGET: future_action,
  EFFECT: PREVENT_EXISTENCE(action),
  RESULT: "Cette action n'existera jamais"
}

# Lames R√©versibles - Paradoxe existentiel
CREATURE(lame_reversible) {
  PROPERTY: EXISTS_ONLY_IF_KILLED,
  ON_DEATH: SPAWN(lame_reversible_vivante),
  ON_SPAWN: MUST_DIE_TO_EXIST
}

# ========================================
# DIALOGUES ET AMBIANCE
# ========================================

ON_START: {
  NARRATE: "Le Troisi√®me Codex flotte au-dessus du Nexus, ses pages tournant sans vent."
  ABYME_SPEAKS: "Je ne suis pas venu d√©truire. Je suis venu... collecter."
}

ON_TURN(15): {
  CHLAMYDIUS_WRITES: "Les mots s'effacent avant d'√™tre lus. Mais j'ai d√©j√† tout √©crit."
  CLAUDIUS_COMPILES: "ERROR: Reality segmentation fault. Attempting to debug existence..."
  JEAN_GROFI: "Putain, m√™me mes logs sont dans le brouillard ! C'est √ßa leur fog of causality ?"
}

ON_TURN(25): {
  NARRATE: "Les fragments d'Abyme commencent √† chanter. C'est une m√©lodie de fin."
  ABYME_REVEALS: "Vous √™tes d√©j√† dans mon archive. Cette bataille... je l'ai d√©j√† gagn√©e 999 fois."
}

ON_VICTORY: {
  NARRATE: "L'√âclat Blanc consume Abyme. Il devient ce qu'il a toujours craint : une page vierge."
  HEROES_UNITED: "Le silence s'√©crit. Le Codex se referme. Pour cette fois."
}

ON_DEFEAT: {
  NARRATE: "Les h√©ros s'effacent, lettre par lettre. Seul reste un livre ferm√©, sans titre."
  ABYME_FINAL: "Archivage... complet. Prochaine collection dans... ERROR: TIME NOT FOUND."
}

# FIN DU SC√âNARIO
# "Ce qui est √©crit peut √™tre effac√©. Mais ce qui est v√©cu... peut-il √™tre d√©s√©crit ?" 