# Configuration auto-g√©n√©r√©e
WORLD: test_world
MAP: jean-memento-synergie-test_map

# üåü SC√âNARIO HOTS - SYNERGIE JEAN & MEMENTO ‚ö°üìú
# Test de la Symbiose √âternelle entre Jean-Grofignon et Memento

# Initialisation de la partie
CREATE(GAME, "Test Synergie √âternelle")
SET(MAP_SIZE, 20, 20)
SET(GAME_MODE, SYNERGIE_TEST)

# üëë Cr√©ation de Jean-Grofignon
œà001: ‚äô(Œît+0 @10,10 ‚ü∂ CREATE(HERO, Jean-Grofignon))
SET(HERO:Jean-Grofignon, CLASS, TEMPORAL_MASTER)
SET(HERO:Jean-Grofignon, MANA, 100)
SET(HERO:Jean-Grofignon, ENERGY, 100)
SET(HERO:Jean-Grofignon, POSITION, @10,10)

# Artefacts de Jean
USE(ARTIFACT, telecommande_cosmique, HERO:Jean-Grofignon)
USE(ARTIFACT, console_debug_realite, HERO:Jean-Grofignon)

# üèõÔ∏è Cr√©ation de Memento
œà002: ‚äô(Œît+0 @12,12 ‚ü∂ CREATE(HERO, Memento))
SET(HERO:Memento, CLASS, ETERNAL_ARCHIVIST)
SET(HERO:Memento, MANA, 100)
SET(HERO:Memento, ENERGY, 100)
SET(HERO:Memento, POSITION, @12,12)

# Artefacts de Memento
USE(ARTIFACT, archive_temporelle, HERO:Memento)
USE(ARTIFACT, codex_eternel, HERO:Memento)

# ‚ö° ACTIVATION AUTOMATIQUE DE LA SYNERGIE
# Distance entre Jean(10,10) et Memento(12,12) = sqrt((12-10)¬≤ + (12-10)¬≤) = 2.83 ‚â§ 3
Œ†(DISTANCE(Jean-Grofignon, Memento) ‚â§ 3) ‚áí ‚Ä†œà003

# œà003: √âtat de synergie activ√©e
œà003: ‚äô(SYMBIOSE_ONTOLOGIQUE ‚ü∂ ACTIVATE(
  SHARED_MANA_POOL(Jean-Grofignon.mana + Memento.mana),
  AMPLIFY(ALL_ACTIONS, 1.5x),
  FREE_ROLLBACK(Jean-Grofignon, 1_per_turn),
  OMNISCIENCE(map_visibility=100%),
  FUTURE_VISION(Œît+3)
))

# üåü TEST 1: ARCHIVAGE TEMPOREL INSTANTAN√â
œà004: ‚äô(Œît+1 @11,11 ‚ü∂ CREATE(CREATURE, Dragon_Temporel, HERO:Jean-Grofignon))
# Memento archive automatiquement (effet passif)
‚Ä†[JEAN_ACTION] ‚Üí ARCHIVE(Memento) ‚Üí AMPLIFY(Dragon_Temporel.stats, 1.5x)

# üìö TEST 2: CODEX VIVANT - Apprendre une capacit√©
œà005: ‚äô(Œît+2 ‚ü∂ LEARN(enemy_ability:Fireball, CODEX_VIVANT))
STORE(abilities) ‚Üí INFINITE_GRIMOIRE(Jean-Grofignon, Memento)
TEACH(ally_hero:Arthur, learned_ability:Fireball) ‚Üí KNOWLEDGE_TRANSFER

# ‚ö° TEST 3: COLLAPSE ORGANIS√â (Capacit√© Active)
œà006: ‚äô(Œît+3 ‚ü∂ ORGANIZED_COLLAPSE {
  Jean-Grofignon: FORCE_COLLAPSE(ALL_œà_STATES),
  Memento: SELECT_REALITY(preferred_outcome:VICTORY),
  COST: 100_shared_mana,
  Result: MULTIVERSE_RESHAPE
})

# üé≠ TEST 4: PARADOXE STABLE (Capacit√© Ultime)
œà007: ‚äô(Œît+4 ‚ü∂ STABLE_PARADOX {
  CREATE(impossible_reality:EXIST_AND_NOT_EXIST),
  STABILIZE(paradox) VIA Memento.archive_power,
  MAINTAIN(logical_impossibility=TRUE, 5_turns),
  COST: 150_shared_mana
})

# üéØ TESTS DE GAMEPLAY

# Test mana partag√©
œà008: ‚äô(Œît+5 ‚ü∂ USE(SPELL, Temporal_Blast, COST:80, SOURCE:shared_mana_pool))
# Pool: 200 mana total (100 Jean + 100 Memento) - 80 = 120 restant

# Test vision temporelle
œà009: ‚äô(Œît+6 ‚ü∂ OBSERVE(enemy_future_actions, Œît+3))
# Jean et Memento voient 3 tours dans le futur

# Test rollback gratuit
œà010: ‚äô(Œît+7 ‚ü∂ MOV(HERO:Jean-Grofignon, @8,8))
# Si position ne convient pas: FREE_ROLLBACK(Jean-Grofignon) ‚Üí position pr√©c√©dente

# üèÜ ACHIEVEMENT PROGRESS
œà011: ‚äô(Œît+8 ‚ü∂ CHECK(SYMBIOSE_PARFAITE_PROGRESS))
# Maintenir Jean et Memento ensemble pendant 10 tours
IF(turns_together ‚â• 10) THEN UNLOCK(DUO_LEGENDAIRE_MODE)

# üí¨ DIALOGUES DE SYNERGIE
DIALOGUE(Jean-Grofignon, "Ah, Memento ! Tu arrives au bon moment. J'ai trouv√© le bouton pause cosmique !")
DIALOGUE(Memento, "Et moi j'ai trouv√© comment l'archiver pour l'√©ternit√©. Cr√©ons ensemble !")
SOUND_EFFECT(DING, "Symbiose Ontologique Activ√©e !")

# üé® EFFETS VISUELS
VISUAL_EFFECT(AURA_DOREE, Jean-Grofignon, Memento, CONNECTION)
VISUAL_EFFECT(PARTICULES_QUANTIQUES, AREA:@10,10-@12,12, TOURBILLON)
VISUAL_EFFECT(RUNES_TEMPORELLES, AIR_AUTOUR, Jean-Grofignon, Memento)
VISUAL_EFFECT(TRACES_TEMPORELLES, ALL_ACTIONS, VISIBLE)

# üéµ MUSIQUE SP√âCIALE
MUSIC(SYNERGIE_THEME, "chaos_creatif" + "harmonie_archivale")
SOUND(QUANTUM_BIPS, TEMPORAL_ECHOES, REALITY_ECHOES)

# üìä RAPPORT FINAL
œà012: ‚äô(Œît+10 ‚ü∂ GENERATE_REPORT(SYNERGIE_TEST))
DISPLAY("üåü SYMBIOSE √âTERNELLE VALID√âE !")
DISPLAY("‚úÖ Tous les effets passifs actifs")
DISPLAY("‚úÖ Capacit√©s sp√©ciales op√©rationnelles") 
DISPLAY("‚úÖ Pool mana partag√© fonctionnel")
DISPLAY("‚úÖ Amplification +50% confirm√©e")
DISPLAY("üìú 'Jean cr√©e, Memento archive, ensemble nous transcendons !'")

# üåü CONDITIONS DE VICTOIRE SP√âCIALE
IF(SYMBIOSE_ONTOLOGIQUE.active == TRUE AND turns_maintained ‚â• 5) {
  VICTORY_CONDITION("Symbiose Ma√Ætris√©e")
  UNLOCK_ACHIEVEMENT("Duo L√©gendaire")
  REWARD(LEGENDARY_ARTIFACT:Union_Cosmique)
}

# ‚Ü∫ CONDITIONS DE ROLLBACK
IF(synergy_broken) {
  ROLLBACK_AVAILABLE(Jean-Grofignon, "Repositionner pour synergie")
}

# üéØ FIN DU SC√âNARIO
END_SCENARIO("Test Synergie Jean & Memento R√©ussi !")
SAVE_STATE("synergie_eternelle_validee.hots")

# üìù COMMENTAIRES DE D√âVELOPPEMENT
# Ce sc√©nario teste tous les aspects de la synergie Jean & Memento:
# - Activation automatique bas√©e sur la distance
# - Effets passifs (mana partag√©, amplification, vision)
# - Capacit√©s actives (Collapse Organis√©, Paradoxe Stable)
# - M√©caniques de gameplay (rollback, apprentissage)
# - Achievement et progression
# - Effets audiovisuels
# La synergie transforme compl√®tement l'exp√©rience de jeu ! 