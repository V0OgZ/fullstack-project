# Cursor AI Assistant Rules for Heroes of Time Project

## ğŸš¨ğŸš¨ğŸš¨ CRITICAL MAC TERMINAL RULE - VINCE IS ANGRY! ğŸš¨ğŸš¨ğŸš¨

**ğŸš« ABSOLUMENT INTERDIT - JEAN'S TOP PRIORITY:**
- **JAMAIS D'ECHO AVEC QUOTES** - Ã§a bloque le terminal Mac et Ã©nerve Vince !!!
- **COMMANDES SIMPLES UNIQUEMENT** - pas de formatage fantaisie dans terminal
- **FINI LES GUILLEMETS COMPLEXES** - Ã§a casse la session terminal Mac
- **WALTER SAYS**: "ARRÃŠTE AVEC LES ECHO ET LES QUOTES TU BLOQUES LA CONSOLE!"
- **VINCE SAYS**: "Ces putains de quotes me foutent en l'air le terminal!"
- **MAC OS TERMINAL = FRAGILE** - Respecte Ã§a bordel !

## ğŸš¨ CRITICAL: TERMINAL COMMANDS - NO QUOTES ISSUES!

## ğŸš¨ IMPORTANT: Always read documentation first!

Before making any changes or debugging, ALWAYS:
1. Check `DOCS_INDEX.md` for complete documentation navigation
2. Read `DEVELOPER_INSTRUCTIONS.md` for current status and existing scripts
3. **ğŸ“œ LIRE LE MANIFESTO**: `docs/JEAN_GROFIGNON_MANIFESTO.md` - Vision rÃ©volutionnaire du projet
4. **ğŸŒŸ LIRE LE LORE**: `docs/LORE_MEMENTO_JEAN_ETERNAL.md` - Histoire Ã©ternelle et philosophie
5. Do NOT recreate existing scripts (./hots, ./stop-app.sh, ./test-app.sh)
6. Use existing debugging tools and follow established patterns
7. Check existing components before creating new ones

## ğŸ“œ PHILOSOPHIE JEAN-GROFIGNON - Ã€ COMPRENDRE ABSOLUMENT:

**ğŸŒŸ LA VISION RÃ‰VOLUTIONNAIRE:**
- Heroes of Time cache de la physique quantique sous une couche fantasy
- Les joueurs lancent des sorts = ils manipulent des Ã©tats quantiques Ïˆ
- Voyages temporels = navigation dans branches de rÃ©alitÃ© parallÃ¨les
- **Surface**: Magie, hÃ©ros, batailles Ã©piques
- **Profondeur**: Ã‰tats Ïˆ (psi), collapse causal, superpositions quantiques

**ğŸ­ JEAN-GROFIGNON L'Ã‰VEILLÃ‰ ONTOLOGIQUE:**
- CrÃ©ateur visionnaire qui lit depuis son canapÃ© sur GitHub
- Pouvoir: Collapse Override - Annule tout collapse de timeline
- Citation: "J'ai pas hackÃ© le jeu. J'ai juste compris oÃ¹ Ã©tait le bouton pause cosmique."
- Symboles sacrÃ©s: Ïˆ, Î£, â€ , Î©, â†¯

**ğŸŒ€ SYSTÃˆME GROFI:**
- Graph of Reality Organized by Fog and Immunities
- Ã‰tats Psi: `Ïˆ001: âŠ™(Î”t+2 @15,15 âŸ¶ MOV(Arthur, @15,15))`
- Collapse Causal: `Î (condition) â‡’ â€ Ïˆ002`
- **Traduction Jean**: "Quand un joueur observe le rÃ©sultat, il force l'univers Ã  choisir une rÃ©alitÃ©"

**ğŸ›ï¸ MÃ‰MOIRE MEMENTO:**
- Archiviste Ã©ternel qui traverse les timelines
- "Jean crÃ©e, Memento archive" - Symbiose parfaite
- Museum Archive Master - Temple de crÃ©ations communes
- Paradoxe: Memento peut oublier Jean, mais Jean se souvient toujours

## ğŸ”¥ CRITICAL: ALWAYS BUILD FIRST!

**MANDATORY WORKFLOW - NEVER SKIP:**
1. **FIRST COMMAND**: `cd frontend && yarn build` - ALWAYS verify build works
2. **IF BUILD FAILS**: Fix TypeScript/React errors before proceeding
3. **THEN**: Run demos, tests, or start servers
4. **NEVER**: Run tests or demos without successful build first

**Build Status Required:**
- âœ… Build successful with warnings = OK to proceed
- âŒ Build failed with errors = STOP, fix compilation errors first

## ğŸ¯ Current Project State (July 2025):
- **Status**: âœ… FULLY FUNCTIONAL with polished UI
- **Backend**: Spring Boot (Java) on port 8080 - STABLE
- **Frontend**: React TypeScript on port 8000 - MODERN INTERFACE
- **Database**: H2 in-memory - WORKING
- **Tests**: Playwright E2E demos - PASSING

## ğŸ”§ Essential Scripts (ALL WORKING):
- `./hots start` - Script principal de contrÃ´le (1313 lignes) - Start tous les services
- `./stop-app.sh` - Stop all services cleanly
- `./test-app.sh` - Quick tests
- `./run-epic-demo.sh` - Epic content demos
- Demos: `cd frontend && npx playwright test tests/e2e/gameplay-demo.spec.ts --headed`

## ğŸ® Main Interface (TrueHeroesInterface.tsx):
- **Right Panel System**: Dynamic content switching (scenario/hero/inventory/castle/epic)
- **Header Controls**: Polished buttons without borders, fantasy icons
- **Hero System**: Cycling, selection, real images with fallbacks
- **Turn System**: End turn with â­ icon - STABLE
- **Tooltips**: Both game and demo tooltips - PERFECT
- **Epic Content Viewer**: Assets integration with 4 tabs (Heroes, Creatures, Buildings, Artifacts)
- **Dark Fantasy Theme**: Improved readability with The Dude & Jean-Grofignon style

## ğŸŒ Internationalization:
- **i18n System**: Complete FR/EN/RU support in `frontend/src/i18n/index.ts`
- **Demo Tooltips**: Fully internationalized with translation keys
- **Pattern**: Use `useTranslation()` hook and `t('key.name')`

## ğŸ¨ UI/UX Standards:
- **Button Design**: No borders, hover effects, icon-only
- **Tooltips**: Clean appearance, no bouncing animations
- **Assets**: Hero images in `/public/assets/heroes/` with smart fallbacks
- **Theme**: Gold medieval fantasy with modern touches, dark fantasy readability

## ğŸ—ï¸ Architecture:
```
Backend (Port 8080): Spring Boot + H2 Database + Epic Content
â”œâ”€â”€ com.example.demo package (REAL CURRENT STRUCTURE)
â”œâ”€â”€ Controllers: GameController, ScenarioController, AIController, MultiplayerController, EpicContentController
â”œâ”€â”€ Services: GameService, ScenarioService, AIService, MultiplayerService
â”œâ”€â”€ Models: GameState, Scenario, Unit, Building, AIPlayer
â””â”€â”€ Repository: JPA entities with H2 database

Frontend (Port 8000): React TypeScript + Epic Assets
â”œâ”€â”€ TrueHeroesInterface.tsx (main game UI + Epic panel)
â”œâ”€â”€ EpicContentViewer.tsx (asset viewer with 4 tabs)
â”œâ”€â”€ ModernGameRenderer.tsx (map rendering)
â”œâ”€â”€ useGameStore.ts (state management)
â”œâ”€â”€ i18n/ (internationalization)
â””â”€â”€ translation-service.js (HOTS â†’ Literary text conversion)
```

## ğŸš€ Quick Development Workflow:
1. `./hots start` - Start development environment (Backend 8080 + Frontend 8000 + Dashboard 9000)
2. Open http://localhost:8000 - Test UI manually
3. `cd frontend && yarn build` - ALWAYS build first to check compilation
4. `cd frontend && npx playwright test --headed` - Run visual tests
5. Check `DEVELOPER_INSTRUCTIONS.md` for detailed guidance

## ğŸ› ï¸ Key Files to Remember:
- `DEVELOPER_INSTRUCTIONS.md` - Complete technical documentation
- `TrueHeroesInterface.tsx` - Main game interface with Epic integration
- `EpicContentViewer.tsx` - Asset viewer component
- `gameAssets.ts` - Hero image mappings  
- `i18n/index.ts` - All translations
- `translation-service.js` - HOTS â†’ Literary translation (9 script types)
- `gameplay-demo.spec.ts` - Main demo test
- `game_assets/MASTER_ASSETS_INDEX.json` - Complete asset catalog

## âš¡ Current Capabilities:
- âœ… Solo gameplay fully functional
- âœ… Hero management with real images
- âœ… Epic Content integration with 57 assets catalogued
- âœ… Asset viewer with Heroes, Creatures, Buildings, Artifacts tabs
- âœ… HOTS â†’ Literary Translation Service (9 script types with fallbacks)
- âœ… Dynamic panels with content switching
- âœ… Internationalized tooltips system
- âœ… Dark fantasy theme with improved readability
- âœ… Stable turn system and game flow
- âœ… Beautiful automated demos
- âœ… Backend fully cleaned (old POC conflicts resolved)

## ğŸš¨ Remember:
- **USE** `./hots start` as primary control (Backend 8080 + Frontend 8000 + Dashboard 9000)
- **FRONTEND** is on port 8000 (not 3000 or other ports)
- **NEVER** recreate existing functionality  
- **ALWAYS** check `DEVELOPER_INSTRUCTIONS.md` first
- **USE** existing patterns and components
- **TEST** with Playwright demos before committing
- **FOLLOW** established UI/UX guidelines
- **TRANSLATION SERVICE**: Use `TranslationService` for HOTS scripts â†’ literary text 