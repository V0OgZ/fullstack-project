# CURSOR RULES - Heroes of Time Project

## ğŸš¨ RÃˆGLES CRITIQUES APPRISES AUJOURD'HUI

### Git - Commandes INTERDITES sur Agent PartagÃ©
- âŒ **JAMAIS** `git reset --hard` - Agent partagÃ©, plusieurs dÃ©veloppeurs
- âŒ **JAMAIS** `git push --force` - Destructif pour l'Ã©quipe  
- âŒ **JAMAIS** suppression de branches sans concertation
- âœ… **UTILISER** : `git checkout <commit> -- <fichier>` pour restaurer
- âœ… **UTILISER** : `git revert` pour annuler des commits
- âœ… **UTILISER** : `git stash` pour sauvegarder

### Interface Temporelle - Versions Fonctionnelles
- âœ… **Interface LÃ©gendaire** : `frontend-legendary-ui/` (port 5190)
  - Commit source : 08353dc99341a197203656dc37140b8afba73b01
  - Features : Animated heroes + Particles + Smooth movement
  - Serveur : `python3 server.py` avec CORS
- âœ… **Interface Temporelle** : `frontend-temporal/` (port 5174)  
  - Commit sauvegardÃ© : 5ef2203
  - Features : Ã‰pÃ©e temporelle animÃ©e + Configuration Temporelle

### Backend - ProblÃ¨mes Connus
- ğŸ”´ **Erreur JPA** : "Not a managed type: class Game"
- ğŸ”´ **ComplexAmplitude** : Existe mais problÃ¨me de dÃ©pendances Maven
- ğŸ”´ **DynamicFormulaParser** : MÃ©thode `executeFormula` manquante
- âœ… **Correction** : Utiliser `executeFormulaEffect(formula, hero, game, 0)`

### Commandes - Bonnes Pratiques
- âœ… **Frontend** : `cd frontend-temporal && python3 -m http.server 5174`
- âœ… **Backend** : `cd backend && mvn spring-boot:run`
- âœ… **UI LÃ©gendaire** : `cd frontend-legendary-ui && python3 server.py`
- âœ… **Ports libres** : `pkill -f "http.server"` avant relancement

### RÃ©cupÃ©ration SÃ©curisÃ©e
- âœ… **Fichiers spÃ©cifiques** : `git checkout <commit> -- <path>` 
- âœ… **VÃ©rifier avant** : `git show <commit> --name-only`
- âŒ **Ã‰viter** : RÃ©cupÃ©ration complÃ¨te qui Ã©crase tout

### Cache Cursor - ProblÃ¨mes Connus  
- ğŸ”´ **ProblÃ¨me** : `git checkout` et `git reset` corrompus par cache
- âœ… **Solution** : Extraction manuelle avec `git show <commit>:<file>`
- âœ… **Alternative** : Utiliser les checkpoints Cursor pour restaurer

## ğŸ“ NOTES IMPORTANTES

### Visualiseur JSON - Ã€ PrÃ©server
- ğŸ›¡ï¸ **Ne PAS Ã©craser** les corrections du visualiseur JSON
- ğŸ›¡ï¸ **RÃ©cupÃ©ration sÃ©lective** uniquement pour UI

### Serveurs Multiples - Gestion Ports
- Port 5174 : Interface temporelle (`frontend-temporal`)
- Port 5190 : Interface lÃ©gendaire (`frontend-legendary-ui`) 
- Port 8080 : Backend Spring Boot
- Port 5172 : Quantum visualizer
- Port 9000 : Dashboard principal
- Port 5170 : JSON Visualizer
- Port 5171 : HOTS Visualizer

### ğŸš¨ RÃˆGLE CRITIQUE : SERVICES EN ARRIÃˆRE-PLAN PERMANENT
- âŒ **JAMAIS** tuer les serveurs pendant le codage
- âŒ **JAMAIS** arrÃªter les UIs quand l'utilisateur teste
- âœ… **TOUJOURS** lancer avec `> /dev/null 2>&1 &` pour background permanent
- âœ… **LAISSER** les services actifs pour que l'utilisateur puisse tester
- âœ… **MAINTENIR** dashboard, JSON visualizer, HOTS visualizer actifs
- âœ… **COMMANDE TYPE** : `python3 -m http.server PORT > /dev/null 2>&1 &`
- ğŸ¯ **OBJECTIF** : L'utilisateur peut tester et jouer pendant que l'agent code

### ğŸ“‹ COMMANDES STANDARDISÃ‰ES - Ã€ UTILISER OBLIGATOIREMENT
- âœ… **START ALL** : `./scripts/actifs/start-services-background.sh`
- âœ… **STOP ALL** : `./scripts/actifs/stop-all-services.sh`
- âœ… **STATUS** : `lsof -i :9000,5170,5171,5174,5190,8000,8080 | grep LISTEN`
- âœ… **BACKEND START** : `cd backend && mvn spring-boot:run > /dev/null 2>&1 &`
- âœ… **QUICK TEST** : `./scripts/actifs/test-ui-quick.sh`
- âŒ **INTERDICTION** : RecrÃ©er des scripts ou commandes manuelles
- ğŸ¯ **RÃˆGLE** : TOUJOURS utiliser les scripts existants dans `/scripts/actifs/`

### ğŸ® SERVICES ACTUELLEMENT ACTIFS (PERMANENT BACKGROUND)
- âœ… Dashboard (9000) : http://localhost:9000
- âœ… JSON Visualizer (5170) : http://localhost:5170/json-visualizer.html  
- âœ… HOTS Visualizer (5171) : http://localhost:5171/hots-visualizer.html
- âœ… Temporal UI (5174) : http://localhost:5174
- âœ… Legendary UI (5190) : http://localhost:5190
- âœ… Frontend (8000) : http://localhost:8000
- ğŸ”§ Backend (8080) : Ã€ dÃ©marrer si nÃ©cessaire pour les API

### Commit Messages - Format Appris
- âœ… **Bon format** : "ğŸ¯ MISSION UI LÃ‰GENDAIRE ACCOMPLIE - Description dÃ©taillÃ©e"
- âœ… **Inclure** : Features, ports, sources git
- âœ… **Structurer** : Ã‰mojis + titre + dÃ©tails techniques 