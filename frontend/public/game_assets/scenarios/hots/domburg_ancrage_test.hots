# ========================================
# DOMBURG ANCRAGE TEST - Dark Fantasy
# Moteur: Heroes of Time Engine v1.0
# Test des nouveaux objets d'ancrage temporel
# ========================================

# === SETUP INITIAL - L'EXPLORATEUR ===
GAME: "Test des Ancrages de Domburg"

# Cr√©er le h√©ros explorateur
HERO(Chronos, 5, 5)
# Position initiale : loin des zones d'ancrage

# === D√âCOUVERTE DE LA TOUR D'ANCRAGE ===
# Le h√©ros s'approche de la Tour myst√©rieuse

# Mouvement vers les Dunes de Domburg
MOV(Chronos, 10, 10)

# Activation de la Tour d'Ancrage
USE(ARTIFACT, tour_ancrage_domburg, HERO:Chronos)
# ‚Üí Zone de stase causale absolue activ√©e (rayon 5)
# ‚Üí Blocage des effets spatio-temporels
# ‚Üí Ralentissement temporel (actions co√ªtent x2)

# === TEST DES EFFETS DE STASE ===
# Tentative de cr√©ation d'√©tat quantique pr√®s de la Tour

# Ceci devrait √âCHOUER √† cause de la stase causale
œà001: ‚äô(Œît+1 @12,12 ‚ü∂ CREATE(CREATURE, ShadowWraith, @12,12))
# ‚Üí Bloqu√© par STASIS_CAUSALE_ABSOLUE

# Tentative de projection temporelle - devrait aussi √©chouer
œà002: ‚äô(Œît+2 @11,11 ‚ü∂ MOV(Chronos, @11,11))
# ‚Üí Bloqu√© par BLOCAGE_EFFETS_SPATIO_TEMPORELS

# === D√âCOUVERTE DU MOULIN DE DOMBURG ===
# Le h√©ros se dirige vers le centre de Domburg

# Mouvement vers le Moulin (hors zone de la Tour)
MOV(Chronos, 20, 20)

# Activation du Moulin de Domburg
USE(ARTIFACT, moulin_domburg, HERO:Chronos)
# ‚Üí Champ de stabilisation locale (rayon 3)
# ‚Üí Chrono-barri√®re (60% d'√©chec voyage temporel)
# ‚Üí Acc√®s au Rituel "Remont√©e du Bl√©"

# === TEST DES EFFETS DU MOULIN ===
# Tentative de voyage dans le pass√© pr√®s du Moulin

# Ceci devrait avoir 60% de chance d'√©chouer
œà003: ‚äô(Œît-1 @22,22 ‚ü∂ RESTORE(HERO, Chronos, PREVIOUS_STATE))
# ‚Üí 60% chance d'√™tre bloqu√© par CHRONO_BARRIERE

# Test des effets chaotiques - devraient √™tre annul√©s
œà004: ‚äô(Œît+1 @21,21 ‚ü∂ RANDOM(EVENT, ChaoticStorm, @21,21))
# ‚Üí Annul√© par CHAMP_STABILISATION_LOCALE

# === UTILISATION DU RITUEL REMONT√âE DU BL√â ===
# Simulation d'une action d√©truite √† restaurer

# D'abord, cr√©er une action qui sera "d√©truite"
CREATE(ITEM, TemporalRelic, @19,19)

# Simuler la destruction de l'action (par un effet externe)
DESTROY(ITEM, TemporalRelic)

# Utiliser le Rituel pour restaurer l'action d√©truite
USE(RITUAL, remontee_du_ble, TARGET:TemporalRelic)
# ‚Üí Restaure l'action CREATE(ITEM, TemporalRelic, @19,19)

# === TEST DE COMBINAISON DES ANCRAGES ===
# Tester l'interaction entre Tour et Moulin

# Le h√©ros se place entre les deux zones d'influence
MOV(Chronos, 15, 15)

# Tentative d'utiliser les deux ancrages simultan√©ment
USE(ARTIFACT, tour_ancrage_domburg, HERO:Chronos)
USE(ARTIFACT, moulin_domburg, HERO:Chronos)

# Test de cr√©ation d'un r√©seau d'ancrage plan√©taire
CHAIN(tour_ancrage_domburg, moulin_domburg, TYPE:anchor_network)
# ‚Üí Utilise la propri√©t√© sp√©ciale "canBeChained" de la Tour

# === BATAILLE DANS ZONE D'ANCRAGE ===
# Cr√©er un ennemi pour tester le combat sous influence d'ancrage

CREATE(CREATURE, DomburgGuardian, @16,16)

# Combat ralenti par la zone de stase
BATTLE(Chronos, DomburgGuardian)
# ‚Üí Toutes les actions de combat co√ªtent le double de temps
# ‚Üí Pas de manipulation temporelle possible pendant le combat

# === TEST DE R√âSISTANCE AUX PARADOXES ===
# Tentative de cr√©er un paradoxe temporel

# Ceci devrait √™tre r√©solu par la r√©sistance aux paradoxes
œà005: ‚äô(Œît+1 @14,14 ‚ü∂ DESTROY(HERO, Chronos))
œà006: ‚äô(Œît+1 @14,14 ‚ü∂ PRESERVE(HERO, Chronos))
# ‚Üí Paradoxe r√©solu par la Tour d'Ancrage

# === UTILISATION DE LA STASE TOTALE ===
# Test du pouvoir ultime de la Tour (1x par joueur)

# Situation critique : invasion d'entit√©s temporelles
CREATE(CREATURE, TemporalInvader, @13,13)
CREATE(CREATURE, TemporalInvader, @14,14)
CREATE(CREATURE, TemporalInvader, @15,15)

# Activation de la Stase Totale pour figer la menace
USE(POWER, stase_totale, SOURCE:tour_ancrage_domburg)
# ‚Üí Fige toute action dans l'absolu pendant 3 tours
# ‚Üí Utilisable qu'une seule fois par joueur

# === EXPLORATION DES MIROIRS TEMPORELS ===
# Le Moulin r√©v√®le des sc√®nes du pass√© √† certaines heures

# Attendre le bon moment (simulation)
WAIT(CONDITION, temporal_mirrors_active)

# Observer les miroirs temporels du Moulin
OBSERVE(MIRRORS, moulin_domburg)
# ‚Üí R√©v√®le des sc√®nes du pass√© de Domburg
# ‚Üí Informations sur l'histoire du vieux savant

# === FINALISATION DU TEST ===
# V√©rification que tous les effets fonctionnent correctement

# D√©placement final pour sortir des zones d'influence
MOV(Chronos, 30, 30)

# V√©rification que les effets ne s'appliquent plus
œà007: ‚äô(Œît+1 @31,31 ‚ü∂ CREATE(ITEM, FreedomToken, @31,31))
# ‚Üí Devrait r√©ussir car hors des zones d'ancrage

# Effondrement normal de l'√©tat quantique
‚Ä†œà007

# === M√âTADONN√âES DE TEST ===
# Dur√©e attendue: ~45 secondes
# √âtats œà cr√©√©s: 7
# Ancrages test√©s: 2 (Tour + Moulin)
# Effets sp√©ciaux: 8 (stase, barri√®re, rituel, etc.)
# R√©sistance paradoxe: Oui
# R√©seau d'ancrage: Oui

# ========================================
# R√âSULTATS ATTENDUS DU TEST
# ========================================
#
# ‚úÖ EFFETS DE LA TOUR D'ANCRAGE :
# - œà001 et œà002 bloqu√©s par stase causale
# - Combat ralenti (actions x2 temps)
# - Paradoxe œà005/œà006 r√©solu automatiquement
# - Stase totale fige les TemporalInvaders
#
# ‚úÖ EFFETS DU MOULIN DE DOMBURG :
# - œà003 a 60% chance d'√©chouer (chrono-barri√®re)
# - œà004 annul√© (stabilisation locale)
# - Rituel restaure TemporalRelic avec succ√®s
# - Miroirs temporels r√©v√®lent l'histoire
#
# ‚úÖ INTERACTIONS R√âSEAU :
# - Cha√Ænage Tour‚ÜîMoulin cr√©e r√©seau plan√©taire
# - Zones d'influence se compl√®tent sans conflit
# - Propri√©t√©s sp√©ciales pr√©serv√©es
#
# ‚úÖ COH√âRENCE NARRATIVE :
# - Lore dark fantasy respect√©
# - M√©caniques align√©es avec l'histoire
# - Ambiance myst√©rieuse de Domburg pr√©serv√©e
#
# üéÆ PROOF OF CONCEPT R√âUSSI !
# Les objets de Domburg s'int√®grent parfaitement
# dans la grammaire temporelle HOTS existante.
#
# ========================================