<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü¶Å Sphinx Quantique + Grammaire HOTS - Integration</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background: linear-gradient(135deg, #1a0a2e, #16213e, #0f3460);
            color: #f0f0f0;
            font-family: 'Courier New', monospace;
            min-height: 100vh;
            padding: 20px;
        }

        .integration-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            height: calc(100vh - 40px);
        }

        .sphinx-panel, .grammar-panel {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ffd700;
            border-radius: 15px;
            padding: 20px;
            overflow-y: auto;
        }

        .panel-title {
            font-size: 24px;
            color: #ffd700;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 0 10px #ffd700;
        }

        .sphinx-avatar {
            font-size: 80px;
            text-align: center;
            margin-bottom: 20px;
            animation: sphinxGlow 2s ease-in-out infinite alternate;
        }

        @keyframes sphinxGlow {
            from { text-shadow: 0 0 20px #ffd700; }
            to { text-shadow: 0 0 30px #ffd700, 0 0 40px #ff8c00; }
        }

        .riddle-display {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid #ffd700;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            min-height: 120px;
        }

        .grammar-editor {
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid #00ffff;
            border-radius: 10px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            color: #00ffff;
            width: 100%;
            height: 200px;
            resize: vertical;
        }

        .rune-palette {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .rune-button {
            background: rgba(138, 43, 226, 0.3);
            border: 1px solid #8a2be2;
            color: #fff;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .rune-button:hover {
            background: rgba(138, 43, 226, 0.6);
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.8);
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            color: #000;
        }

        .btn-secondary {
            background: linear-gradient(45deg, #4ecdc4, #45b7d1);
            color: #fff;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .result-display {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid #00ff00;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            min-height: 100px;
        }

        .physics-concepts {
            background: rgba(255, 165, 0, 0.1);
            border: 1px solid #ffa500;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .concept-tag {
            display: inline-block;
            background: rgba(255, 165, 0, 0.3);
            color: #ffa500;
            padding: 5px 10px;
            margin: 5px;
            border-radius: 15px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="integration-container">
        <!-- Panel Sphinx -->
        <div class="sphinx-panel">
            <div class="panel-title">ü¶Å SPHINX QUANTIQUE</div>
            <div class="sphinx-avatar">ü¶Å</div>
            
            <div class="riddle-display" id="riddleDisplay">
                <strong>üåÄ √ânigme Quantique Active :</strong><br><br>
                <em>Cliquez sur "Nouvelle √ânigme" pour commencer...</em>
            </div>

            <div class="physics-concepts" id="physicsConcepts">
                <strong>üìö Concepts Physiques :</strong><br>
                <div id="conceptTags"></div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="generateNewRiddle()">üé≤ Nouvelle √ânigme</button>
                <button class="btn btn-secondary" onclick="validateAnswer()">‚úÖ Valider R√©ponse</button>
            </div>

            <div class="result-display" id="resultDisplay">
                <strong>üèÜ R√©sultat :</strong><br>
                <em>R√©solvez l'√©nigme avec la grammaire HOTS...</em>
            </div>
        </div>

        <!-- Panel Grammaire -->
        <div class="grammar-panel">
            <div class="panel-title">üìú GRAMMAIRE HOTS</div>
            
            <div class="rune-palette">
                <button class="rune-button" onclick="insertRune('œà')">œà<br><small>Psi-State</small></button>
                <button class="rune-button" onclick="insertRune('‚äô')">‚äô<br><small>Superposition</small></button>
                <button class="rune-button" onclick="insertRune('‚Ä†')">‚Ä†<br><small>Collapse</small></button>
                <button class="rune-button" onclick="insertRune('Œ†')">Œ†<br><small>Observation</small></button>
                <button class="rune-button" onclick="insertRune('Œît')">Œît<br><small>Temps</small></button>
                <button class="rune-button" onclick="insertRune('‚àû')">‚àû<br><small>Infini</small></button>
                <button class="rune-button" onclick="insertRune('‚ö°')">‚ö°<br><small>√ânergie</small></button>
                <button class="rune-button" onclick="insertRune('‚Ñè')">‚Ñè<br><small>Planck</small></button>
            </div>

            <textarea class="grammar-editor" id="grammarEditor" placeholder="// √âcrivez votre solution HOTS ici...
// Utilisez les runes quantiques pour r√©soudre l'√©nigme du Sphinx

HERO(Arthur, @10,10)
œà001: ‚äô(quantum_state ‚ü∂ solution)

// Exemple :
// IF(heisenberg_uncertainty) THEN
//   Œ†(Œîx √ó Œîp) ‚â• ‚Ñè/2
// END"></textarea>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="parseGrammar()">üîç Analyser Grammaire</button>
                <button class="btn btn-secondary" onclick="executeHOTS()">‚ö° Ex√©cuter HOTS</button>
                <button class="btn btn-secondary" onclick="clearEditor()">üóëÔ∏è Effacer</button>
            </div>

            <div class="result-display" id="grammarResult">
                <strong>üìä Analyse Grammaticale :</strong><br>
                <em>Tapez du code HOTS pour voir l'analyse...</em>
            </div>
        </div>
    </div>

    <script>
        // Base de donn√©es d'√©nigmes quantiques
        const QUANTUM_RIDDLES = [
            {
                question: "Comment l'√©quation de Schr√∂dinger doit-elle √™tre adapt√©e pour un h√©ros qui se t√©l√©porte quantiquement entre deux positions simultan√©ment ?",
                concepts: ["schrodinger", "superposition", "teleportation"],
                difficulty: "EXPERT",
                solution_hint: "Utilisez œà et ‚äô pour la superposition, ‚Ä† pour l'observation"
            },
            {
                question: "Deux h√©ros sont intriqu√©s quantiquement. Si l'un attaque √† 50 hexagones de distance, comment l'autre ressent-il instantan√©ment l'effet selon le principe de non-localit√© ?",
                concepts: ["entanglement", "non_locality", "instant_correlation"],
                difficulty: "MASTER",
                solution_hint: "Œ†(observation) sur un h√©ros affecte instantan√©ment l'autre"
            },
            {
                question: "Un projectile magique pr√©sente une dualit√© onde-particule. Comment calculer sa probabilit√© de toucher ET sa position exacte simultan√©ment dans un syst√®me hexagonal ?",
                concepts: ["wave_particle_duality", "uncertainty_principle", "measurement"],
                difficulty: "LEGENDARY",
                solution_hint: "Impossible selon Heisenberg : Œ†(Œîx √ó Œîp) ‚â• ‚Ñè/2"
            }
        ];

        let currentRiddle = null;

        function generateNewRiddle() {
            currentRiddle = QUANTUM_RIDDLES[Math.floor(Math.random() * QUANTUM_RIDDLES.length)];
            
            document.getElementById('riddleDisplay').innerHTML = `
                <strong>üåÄ √ânigme Quantique (${currentRiddle.difficulty}) :</strong><br><br>
                ${currentRiddle.question}<br><br>
                <small>üí° Indice : ${currentRiddle.solution_hint}</small>
            `;

            // Afficher les concepts
            const conceptsDiv = document.getElementById('conceptTags');
            conceptsDiv.innerHTML = '';
            currentRiddle.concepts.forEach(concept => {
                const tag = document.createElement('span');
                tag.className = 'concept-tag';
                tag.textContent = concept.replace('_', ' ').toUpperCase();
                conceptsDiv.appendChild(tag);
            });
        }

        function insertRune(rune) {
            const editor = document.getElementById('grammarEditor');
            const cursorPos = editor.selectionStart;
            const textBefore = editor.value.substring(0, cursorPos);
            const textAfter = editor.value.substring(editor.selectionEnd);
            
            editor.value = textBefore + rune + textAfter;
            editor.selectionStart = editor.selectionEnd = cursorPos + rune.length;
            editor.focus();
        }

        function parseGrammar() {
            const code = document.getElementById('grammarEditor').value;
            const result = document.getElementById('grammarResult');
            
            // Analyse simple de la grammaire HOTS
            let analysis = "üìä Analyse Grammaticale :\n\n";
            
            // Compter les runes
            const runes = ['œà', '‚äô', '‚Ä†', 'Œ†', 'Œît', '‚àû', '‚ö°', '‚Ñè'];
            runes.forEach(rune => {
                const count = (code.match(new RegExp(rune.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g')) || []).length;
                if (count > 0) {
                    analysis += `‚Ä¢ ${rune} : ${count} occurrence(s)\n`;
                }
            });

            // D√©tecter les structures
            if (code.includes('HERO(')) analysis += "‚Ä¢ Structure HERO d√©tect√©e\n";
            if (code.includes('œà')) analysis += "‚Ä¢ √âtats Psi-quantiques pr√©sents\n";
            if (code.includes('IF(') && code.includes('THEN')) analysis += "‚Ä¢ Logique conditionnelle d√©tect√©e\n";
            if (code.includes('‚äô(') && code.includes('‚ü∂')) analysis += "‚Ä¢ Superposition quantique correcte\n";

            result.innerHTML = `<pre>${analysis}</pre>`;
        }

        function executeHOTS() {
            // Simulation d'ex√©cution
            const result = document.getElementById('grammarResult');
            result.innerHTML = `
                <strong>‚ö° Ex√©cution HOTS :</strong><br>
                ‚úÖ Code analys√© et valid√©<br>
                üåÄ √âtats quantiques initialis√©s<br>
                ‚ö° Simulation en cours...<br>
                <em>R√©sultat : Code HOTS ex√©cut√© avec succ√®s !</em>
            `;
        }

        function validateAnswer() {
            if (!currentRiddle) {
                alert("G√©n√©rez d'abord une √©nigme !");
                return;
            }

            const code = document.getElementById('grammarEditor').value;
            const result = document.getElementById('resultDisplay');
            
            // Validation simple bas√©e sur les concepts requis
            let score = 0;
            let feedback = "üèÜ √âvaluation de votre solution :\n\n";

            // V√©rifier la pr√©sence des √©l√©ments requis selon l'√©nigme
            if (currentRiddle.concepts.includes('superposition') && code.includes('‚äô')) {
                score += 30;
                feedback += "‚úÖ Superposition quantique utilis√©e (+30pts)\n";
            }
            
            if (currentRiddle.concepts.includes('uncertainty_principle') && code.includes('‚Ñè')) {
                score += 25;
                feedback += "‚úÖ Principe d'incertitude reconnu (+25pts)\n";
            }

            if (currentRiddle.concepts.includes('entanglement') && code.includes('Œ†')) {
                score += 25;
                feedback += "‚úÖ Observation quantique correcte (+25pts)\n";
            }

            if (code.includes('œà') && code.includes('‚Ä†')) {
                score += 20;
                feedback += "‚úÖ √âtats Psi et collapse utilis√©s (+20pts)\n";
            }

            // R√©sultat final
            if (score >= 70) {
                feedback += `\nüéâ SUCC√àS ! Score: ${score}/100\n`;
                feedback += "üèÜ Le Sphinx vous accorde un artefact l√©gendaire !";
            } else if (score >= 40) {
                feedback += `\n‚ö†Ô∏è Partiel. Score: ${score}/100\n`;
                feedback += "ü§î Le Sphinx vous donne une seconde chance...";
            } else {
                feedback += `\n‚ùå √âchec. Score: ${score}/100\n`;
                feedback += "üíÄ Le Sphinx vous maudit temporairement...";
            }

            result.innerHTML = `<pre>${feedback}</pre>`;
        }

        function clearEditor() {
            document.getElementById('grammarEditor').value = '';
            document.getElementById('grammarResult').innerHTML = `
                <strong>üìä Analyse Grammaticale :</strong><br>
                <em>Tapez du code HOTS pour voir l'analyse...</em>
            `;
        }

        // Initialisation
        window.onload = function() {
            generateNewRiddle();
        };
    </script>
</body>
</html> 