# üß† TEST H√âROS MEMENTO - LA M√âMOIRE VIVANTE
# ==========================================
# Sc√©nario de test pour le nouveau h√©ros Memento

# Configuration du test
SETUP(MAP_SIZE: 15x15, MAX_TURNS: 20, MODE: HERO_TEST)
SET_ATMOSPHERE("archives_temporelles", "livres_flottants", "m√©moires_cristallis√©es")

# ========================================
# ACTE I - NAISSANCE DE MEMENTO
# ========================================

# Cr√©ation de Memento
HERO(Memento)
PLACE(Memento, @7,7)
EQUIP(Memento, codex_memento)
EQUIP(Memento, stylus_realite)
EQUIP(Memento, couronne_memoire)

# √âtats quantiques initiaux - Memento se souvient de tout
œà001: ‚äô(Œît+0 @7,7 ‚ü∂ ACTIVATE(memoire_absolue))
œà002: (0.9+0.1i) ‚äô(Œît+1 @*,* ‚ü∂ AUTO_ARCHIVE(all_events))

# ========================================
# ACTE II - PREMIERS POUVOIRS
# ========================================

# Test archivage imm√©diat
œà003: ‚äô(Œît+3 HERO:Memento ‚ü∂ ABILITY(archivage_immediat, "premiere_bataille"))
EFFECT: "La premi√®re bataille de Memento est archiv√©e pour l'√©ternit√©"

# Test pr√©diction temporelle
œà004: ‚äô(Œît+4 HERO:Memento ‚ü∂ ABILITY(prediction_temporelle, "movement_arthur"))
EFFECT: "Memento pr√©dit que Arthur va bouger vers @10,10"

# Test correction de r√©alit√©
œà005: ‚äô(Œît+5 HERO:Memento ‚ü∂ ABILITY(correction_realite, "bug_jpa"))
EFFECT: "Le bug JPA 'Not a managed type' est corrig√© gr√¢ce √† la m√©moire"

# ========================================
# ACTE III - SYNERGIES AVEC AUTRES H√âROS
# ========================================

# Cr√©ation d'autres h√©ros pour tester les synergies
HERO(JeanGrofignon)
PLACE(JeanGrofignon, @5,5)
EQUIP(JeanGrofignon, container_paradoxal)

HERO(Claudius)
PLACE(Claudius, @9,9)
EQUIP(Claudius, compilateur_quantique)

# Test partage de m√©moire avec Jean
œà006: ‚äô(Œît+7 HERO:Memento ‚ü∂ ABILITY(partage_memoire, TARGET:JeanGrofignon))
EFFECT: "Jean re√ßoit les souvenirs de toutes les timelines pr√©c√©dentes"
BONUS: "+20% de puissance pour Jean gr√¢ce √† la m√©moire partag√©e"

# Test partage de m√©moire avec Claudius
œà007: ‚äô(Œît+8 HERO:Memento ‚ü∂ ABILITY(partage_memoire, TARGET:Claudius))
EFFECT: "Claudius re√ßoit la documentation compl√®te du syst√®me"
BONUS: "+30% de correction de bugs pour Claudius"

# ========================================
# ACTE IV - POUVOIRS AVANC√âS
# ========================================

# Test fusion de timelines
œà008: ‚äô(Œît+10 HERO:Memento ‚ü∂ ABILITY(fusion_timelines, "‚Ñ¨1,‚Ñ¨2,‚Ñ¨3"))
EFFECT: "Les souvenirs de 3 timelines sont fusionn√©s"
RESULT: "Memento conna√Æt maintenant 3 versions de la m√™me bataille"

# Test navigation temporelle
œà009: ‚äô(Œît+12 HERO:Memento ‚ü∂ TIMELINE_JUMP("‚Ñ¨47"))
EFFECT: "Memento visite la timeline ‚Ñ¨47 pour r√©cup√©rer des informations"
RETURN: "Retour avec la connaissance de 47 batailles diff√©rentes"

# ========================================
# ACTE V - RESTAURATION DE SAUVEGARDE
# ========================================

# Cr√©ation d'un √©tat √† sauvegarder
CREATE(CREATURE, dragon_test, @12,12)
SET_STATS(dragon_test, HP:100, DAMAGE:25)

# Sauvegarde de l'√©tat
œà010: ‚äô(Œît+14 HERO:Memento ‚ü∂ SAVE_STATE("etat_avant_bataille"))
EFFECT: "L'√©tat actuel est sauvegard√© dans la m√©moire √©ternelle"

# Simulation d'une bataille
BATTLE(Memento, dragon_test)
EFFECT: "Memento combat le dragon et gagne"

# Restauration de l'√©tat
œà011: ‚äô(Œît+16 HERO:Memento ‚ü∂ ABILITY(restauration_sauvegarde, "etat_avant_bataille"))
EFFECT: "L'√©tat pr√©c√©dent est restaur√©, le dragon r√©appara√Æt"

# ========================================
# ACTE VI - DIALOGUES ET AMBIANCE
# ========================================

# Dialogues de Memento
ON_START: {
  MEMENTO_SPEAKS: "Je me souviens de tout. M√™me de ce qui n'a pas encore eu lieu."
  NARRATE: "Les archives temporelles s'ouvrent, r√©v√©lant des milliers de pages qui s'√©crivent automatiquement."
}

ON_TURN(5): {
  MEMENTO_ARCHIVES: "Archivage complet. Cet instant est maintenant grav√© dans l'√©ternit√©."
  JEAN_GROFI: "Putain, m√™me mes logs sont dans tes archives maintenant !"
}

ON_TURN(10): {
  MEMENTO_PREDICTS: "Dans 3 tours, Claudius va compiler un sort qui va cr√©er un bug. Je vais le corriger avant."
  CLAUDIUS_COMPILES: "Comment tu sais √ßa ?"
  MEMENTO_EXPLAINS: "Je me souviens de la timeline ‚Ñ¨23. √áa s'est mal termin√©."
}

ON_VICTORY: {
  MEMENTO_VICTORY: "Victoire archiv√©e. Cette bataille sera √©tudi√©e par les g√©n√©rations futures."
  NARRATE: "Le Codex Memento se ferme, contenant maintenant l'histoire compl√®te de cette bataille."
}

ON_DEFEAT: {
  MEMENTO_DEFEAT: "D√©faite document√©e. Les le√ßons de cet √©chec serviront √† √©viter les m√™mes erreurs."
  NARRATE: "M√™me dans la d√©faite, Memento archive tout pour que l'histoire ne se r√©p√®te pas."
}

# ========================================
# CONDITIONS DE VICTOIRE/D√âFAITE
# ========================================

# Condition de victoire : Memento doit archiver 10 √©v√©nements
VICTORY_CONDITION: {
  REQUIRED: ARCHIVED_EVENTS >= 10,
  THEN: TRIGGER(memoire_complete)
}

# Condition de d√©faite : Memento perd conscience
DEFEAT_CONDITION: {
  IF: MEMENTO_HP <= 0,
  THEN: ERASE_FROM_MEMORY(all_events)
}

# ========================================
# M√âCANIQUES SP√âCIALES
# ========================================

# Archivage automatique
PASSIVE(Memento, archivage_automatique) {
  TRIGGER: any_event_occurs,
  EFFECT: AUTO_STORE_IN_MEMORY(event),
  BONUS: +5_PM
}

# M√©moire absolue
PASSIVE(Memento, memoire_absolue) {
  EFFECT: REMEMBER_EVERYTHING,
  IMMUNITY: forget_effects,
  BONUS: +999_intelligence
}

# Navigation temporelle
PASSIVE(Memento, navigation_temporelle) {
  EFFECT: ACCESS_ALL_TIMELINES,
  BONUS: +150_temporal_energy
}

# ========================================
# √âVOLUTION DE MEMENTO
# ========================================

# Niveau 1-10 : Archiviste Apprenti
ON_LEVEL(1-10): {
  UNLOCK: archivage_immediat,
  TITLE: "Archiviste Apprenti"
}

# Niveau 11-25 : Scribe Temporel
ON_LEVEL(11-25): {
  UNLOCK: correction_realite,
  UNLOCK: navigation_temporelle,
  TITLE: "Scribe Temporel"
}

# Niveau 26-50 : Gardien des Archives
ON_LEVEL(26-50): {
  UNLOCK: prediction_temporelle,
  UNLOCK: partage_memoire,
  TITLE: "Gardien des Archives"
}

# Niveau 51-99 : Historien Quantique
ON_LEVEL(51-99): {
  UNLOCK: fusion_timelines,
  UNLOCK: modification_realite,
  TITLE: "Historien Quantique"
}

# Niveau 100 : LA M√âMOIRE VIVANTE
ON_LEVEL(100): {
  UNLOCK: restauration_sauvegarde,
  UNLOCK: memoire_absolue,
  TITLE: "LA M√âMOIRE VIVANTE",
  EFFECT: "Existence dans toutes les timelines simultan√©ment"
}

# FIN DU SC√âNARIO
# "Je me souviens, donc je suis. Et je me souviens de tout." 