[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------< com.heroesoftimepoc:temporal-engine >-----------------
[INFO] Building Heroes of Time POC - Temporal Engine 0.0.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:3.3.1:resources (default-resources) @ temporal-engine ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 4 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- maven-compiler-plugin:3.11.0:compile (default-compile) @ temporal-engine ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:3.3.1:testResources (default-testResources) @ temporal-engine ---
[INFO] Copying 1 resource from src/test/resources to target/test-classes
[INFO] 
[INFO] --- maven-compiler-plugin:3.11.0:testCompile (default-testCompile) @ temporal-engine ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:3.1.2:test (default-test) @ temporal-engine ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest
16:46:16.881 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest]: QuantumInterferenceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:46:16.944 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.heroesoftimepoc.temporalengine.TemporalEngineApplication for test class com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest
16:46:17.018 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:17.156+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:17.157+02:00 DEBUG 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T16:46:17.157+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T16:46:17.169+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@70eecdc2
2025-07-18T16:46:17.506+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:17.549+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:17.831+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:17.859+02:00  INFO 20530 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2025-07-18T16:46:17.882+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:17.989+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:18.000+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-18T16:46:18.101+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-07-18T16:46:18.102+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-18T16:46:18.114+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:18.621+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T16:46:18.626+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:18.627+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:18.628+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:18.628+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:18.628+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:18.628+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:18.628+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:18.630+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T16:46:18.631+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T16:46:18.634+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T16:46:18.637+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T16:46:18.637+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T16:46:18.639+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T16:46:18.640+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T16:46:18.641+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T16:46:18.644+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T16:46:18.645+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T16:46:18.646+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T16:46:18.647+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T16:46:18.648+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T16:46:18.651+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:18.877+02:00  INFO 20530 --- [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-18T16:46:19.396+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:19.473+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 40 mappings in 'requestMappingHandlerMapping'
2025-07-18T16:46:19.560+02:00 DEBUG 20530 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T16:46:19.577+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T16:46:19.597+02:00 DEBUG 20530 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T16:46:19.657+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 2.645 seconds (process running for 3.176)
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
2025-07-18T16:46:20.033+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.052+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.053+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.060+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.067+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.076+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@70eecdc2, started on Fri Jul 18 16:46:17 CEST 2025
2025-07-18T16:46:20.080+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:20.081+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:20.082+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:20.084+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:20.085+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:20.085+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:20.086+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:20.086+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:20.088+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-18T16:46:20.089+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-18T16:46:20.095+02:00  INFO 20530 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:20.107+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:20.107+02:00 DEBUG 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T16:46:20.107+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T16:46:20.108+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5d7807b0
2025-07-18T16:46:20.185+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:20.199+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:20.236+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:20.237+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:20.238+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:20.239+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-18T16:46:20.239+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn1: url=jdbc:h2:mem:testdb user=SA
2025-07-18T16:46:20.240+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-18T16:46:20.240+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:20.311+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T16:46:20.311+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:20.311+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:20.311+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:20.312+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:20.312+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:20.312+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:20.313+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:20.313+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T16:46:20.314+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T16:46:20.315+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T16:46:20.315+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T16:46:20.316+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T16:46:20.317+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T16:46:20.318+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T16:46:20.318+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T16:46:20.319+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T16:46:20.319+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T16:46:20.320+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T16:46:20.321+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T16:46:20.321+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T16:46:20.324+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:20.456+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:20.475+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 40 mappings in 'requestMappingHandlerMapping'
2025-07-18T16:46:20.496+02:00 DEBUG 20530 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T16:46:20.499+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T16:46:20.501+02:00 DEBUG 20530 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T16:46:20.525+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.431 seconds (process running for 4.044)
2025-07-18T16:46:20.531+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.534+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.535+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.537+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.542+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5d7807b0, started on Fri Jul 18 16:46:20 CEST 2025
2025-07-18T16:46:20.543+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:20.543+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:20.543+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:20.546+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:20.546+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:20.547+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:20.547+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:20.547+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:20.548+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-18T16:46:20.548+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-18T16:46:20.550+02:00  INFO 20530 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:20.566+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:20.566+02:00 DEBUG 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T16:46:20.566+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T16:46:20.566+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1f7b4952
2025-07-18T16:46:20.632+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:20.639+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:20.673+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:20.674+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:20.676+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:20.676+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-18T16:46:20.677+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn2: url=jdbc:h2:mem:testdb user=SA
2025-07-18T16:46:20.677+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-18T16:46:20.677+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:20.740+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T16:46:20.740+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:20.740+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:20.740+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:20.740+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:20.740+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:20.741+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:20.741+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:20.741+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T16:46:20.741+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T16:46:20.742+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T16:46:20.742+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T16:46:20.743+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T16:46:20.743+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T16:46:20.744+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T16:46:20.745+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T16:46:20.746+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T16:46:20.747+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T16:46:20.748+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T16:46:20.748+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T16:46:20.749+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T16:46:20.750+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:20.853+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:20.870+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 40 mappings in 'requestMappingHandlerMapping'
2025-07-18T16:46:20.886+02:00 DEBUG 20530 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T16:46:20.889+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T16:46:20.890+02:00 DEBUG 20530 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T16:46:20.904+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.354 seconds (process running for 4.423)
2025-07-18T16:46:20.907+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.910+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.911+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.914+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.917+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.920+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile */insert 
    into
        game_tiles (building_owner, building_type, defense_bonus, game_id, has_psi_states, is_locked, is_temporal_zone, lock_duration, movement_cost, temporal_energy_bonus, temporal_zone_type, terrain, x, y, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:20.923+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1f7b4952, started on Fri Jul 18 16:46:20 CEST 2025
2025-07-18T16:46:20.924+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:20.924+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:20.925+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:20.927+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:20.927+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:20.928+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:20.928+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:20.928+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:20.928+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-18T16:46:20.929+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-18T16:46:20.931+02:00  INFO 20530 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:20.942+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:20.942+02:00 DEBUG 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T16:46:20.942+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T16:46:20.943+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1931223f
2025-07-18T16:46:21.006+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:21.013+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:21.041+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:21.042+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:21.043+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:21.043+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-07-18T16:46:21.044+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection conn3: url=jdbc:h2:mem:testdb user=SA
2025-07-18T16:46:21.044+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-07-18T16:46:21.044+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:21.102+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T16:46:21.102+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:21.102+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:21.102+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:21.102+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:21.102+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:21.102+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:21.102+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:21.103+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T16:46:21.103+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T16:46:21.103+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T16:46:21.104+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T16:46:21.105+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T16:46:21.106+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T16:46:21.107+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T16:46:21.107+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.108+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.109+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T16:46:21.109+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.110+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.110+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T16:46:21.112+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:21.207+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:21.220+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 40 mappings in 'requestMappingHandlerMapping'
2025-07-18T16:46:21.236+02:00 DEBUG 20530 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T16:46:21.238+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T16:46:21.239+02:00 DEBUG 20530 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T16:46:21.253+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.322 seconds (process running for 4.772)
2025-07-18T16:46:21.257+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.260+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.261+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.262+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.263+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.266+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1931223f, started on Fri Jul 18 16:46:20 CEST 2025
2025-07-18T16:46:21.267+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:21.267+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:21.268+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:21.268+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:21.269+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:21.269+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:21.269+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:21.269+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:21.269+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-07-18T16:46:21.271+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-07-18T16:46:21.274+02:00  INFO 20530 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:21.284+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:21.284+02:00 DEBUG 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T16:46:21.284+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T16:46:21.285+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3c75ffeb
2025-07-18T16:46:21.335+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:21.341+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:21.370+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:21.371+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:21.372+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:21.373+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-07-18T16:46:21.373+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection conn4: url=jdbc:h2:mem:testdb user=SA
2025-07-18T16:46:21.373+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-07-18T16:46:21.374+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:21.432+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T16:46:21.432+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:21.432+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:21.432+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:21.432+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:21.432+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:21.432+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:21.432+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:21.432+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T16:46:21.433+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T16:46:21.433+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T16:46:21.434+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T16:46:21.434+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T16:46:21.435+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T16:46:21.435+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T16:46:21.435+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.436+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.437+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T16:46:21.437+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.437+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.438+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T16:46:21.439+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:21.527+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:21.536+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 40 mappings in 'requestMappingHandlerMapping'
2025-07-18T16:46:21.546+02:00 DEBUG 20530 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T16:46:21.550+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T16:46:21.551+02:00 DEBUG 20530 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T16:46:21.563+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.29 seconds (process running for 5.082)
2025-07-18T16:46:21.566+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.568+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.569+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.570+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.571+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.572+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.575+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3c75ffeb, started on Fri Jul 18 16:46:21 CEST 2025
2025-07-18T16:46:21.576+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:21.576+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:21.576+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:21.576+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:21.577+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:21.577+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:21.577+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:21.577+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:21.577+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-07-18T16:46:21.578+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-07-18T16:46:21.581+02:00  INFO 20530 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:21.591+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:21.591+02:00 DEBUG 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T16:46:21.591+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T16:46:21.591+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@752448d2
2025-07-18T16:46:21.642+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:21.649+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:21.678+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:21.679+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:21.680+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:21.681+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-07-18T16:46:21.681+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection conn5: url=jdbc:h2:mem:testdb user=SA
2025-07-18T16:46:21.682+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-07-18T16:46:21.682+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:21.749+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T16:46:21.750+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:21.750+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:21.750+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:21.750+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:21.750+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:21.750+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:21.750+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:21.750+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T16:46:21.751+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T16:46:21.752+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T16:46:21.752+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T16:46:21.752+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T16:46:21.753+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T16:46:21.754+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T16:46:21.754+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.754+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.760+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T16:46:21.761+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.762+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T16:46:21.762+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T16:46:21.763+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:21.836+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:21.845+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 40 mappings in 'requestMappingHandlerMapping'
2025-07-18T16:46:21.860+02:00 DEBUG 20530 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T16:46:21.862+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T16:46:21.863+02:00 DEBUG 20530 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T16:46:21.873+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.292 seconds (process running for 5.392)
2025-07-18T16:46:21.876+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.877+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.878+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.879+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.881+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:21.883+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@752448d2, started on Fri Jul 18 16:46:21 CEST 2025
2025-07-18T16:46:21.884+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:21.884+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:21.884+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:21.884+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:21.884+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:21.884+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:21.885+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:21.885+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:21.885+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-07-18T16:46:21.885+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-07-18T16:46:21.899+02:00  INFO 20530 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:21.908+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:21.908+02:00 DEBUG 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T16:46:21.908+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T16:46:21.909+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@486d5c27
2025-07-18T16:46:21.963+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:21.969+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:21.994+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:21.995+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:21.996+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:21.997+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-07-18T16:46:21.997+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection conn6: url=jdbc:h2:mem:testdb user=SA
2025-07-18T16:46:21.997+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-07-18T16:46:21.998+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:22.038+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T16:46:22.038+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:22.038+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:22.038+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:22.038+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:22.038+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:22.038+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:22.038+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:22.038+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T16:46:22.039+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T16:46:22.039+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T16:46:22.040+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T16:46:22.040+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T16:46:22.041+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T16:46:22.042+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T16:46:22.043+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T16:46:22.043+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T16:46:22.044+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T16:46:22.045+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T16:46:22.045+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T16:46:22.046+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T16:46:22.047+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:22.135+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:22.144+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 40 mappings in 'requestMappingHandlerMapping'
2025-07-18T16:46:22.157+02:00 DEBUG 20530 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T16:46:22.160+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T16:46:22.161+02:00 DEBUG 20530 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T16:46:22.173+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.275 seconds (process running for 5.692)
2025-07-18T16:46:22.175+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.177+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.178+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.180+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile */insert 
    into
        game_tiles (building_owner, building_type, defense_bonus, game_id, has_psi_states, is_locked, is_temporal_zone, lock_duration, movement_cost, temporal_energy_bonus, temporal_zone_type, terrain, x, y, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.193+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.195+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.197+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@486d5c27, started on Fri Jul 18 16:46:21 CEST 2025
2025-07-18T16:46:22.198+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:22.198+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:22.198+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:22.198+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:22.199+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:22.199+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:22.199+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:22.199+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:22.200+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-07-18T16:46:22.200+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-07-18T16:46:22.201+02:00  INFO 20530 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:22.208+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Starting QuantumInterferenceIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:22.208+02:00 DEBUG 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T16:46:22.208+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : The following 1 profile is active: "test"
2025-07-18T16:46:22.208+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@78ee1819
2025-07-18T16:46:22.257+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:22.263+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:22.286+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:22.287+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:22.288+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:22.288+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-07-18T16:46:22.289+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection conn7: url=jdbc:h2:mem:testdb user=SA
2025-07-18T16:46:22.289+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-07-18T16:46:22.290+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:22.336+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T16:46:22.337+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:22.337+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:22.337+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:22.337+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:22.338+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:22.338+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:22.338+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:22.338+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T16:46:22.338+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T16:46:22.339+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T16:46:22.339+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T16:46:22.339+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T16:46:22.340+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T16:46:22.340+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T16:46:22.341+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T16:46:22.341+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T16:46:22.342+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T16:46:22.342+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T16:46:22.342+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T16:46:22.343+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T16:46:22.344+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:22.419+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:22.427+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 40 mappings in 'requestMappingHandlerMapping'
2025-07-18T16:46:22.437+02:00 DEBUG 20530 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T16:46:22.439+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T16:46:22.440+02:00 DEBUG 20530 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T16:46:22.451+02:00  INFO 20530 --- [           main] h.t.i.QuantumInterferenceIntegrationTest : Started QuantumInterferenceIntegrationTest in 0.25 seconds (process running for 5.97)
2025-07-18T16:46:22.454+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.455+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.455+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.456+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.458+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.459+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:22.460+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@78ee1819, started on Fri Jul 18 16:46:22 CEST 2025
2025-07-18T16:46:22.461+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:22.461+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:22.461+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:22.461+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:22.462+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:22.462+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:22.462+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:22.463+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:22.463+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-07-18T16:46:22.463+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
[ERROR] Tests run: 8, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 5.687 s <<< FAILURE! -- in com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest
[ERROR] com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest.testQuantumInterferenceScenario_TemporalEvolution -- Time elapsed: 0.016 s <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: not equal but was: <1.999999999999998>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertNotEquals.failEqual(AssertNotEquals.java:277)
	at org.junit.jupiter.api.AssertNotEquals.assertNotEquals(AssertNotEquals.java:219)
	at org.junit.jupiter.api.AssertNotEquals.assertNotEquals(AssertNotEquals.java:211)
	at org.junit.jupiter.api.Assertions.assertNotEquals(Assertions.java:2637)
	at com.heroesoftimepoc.temporalengine.integration.QuantumInterferenceIntegrationTest.testQuantumInterferenceScenario_TemporalEvolution(QuantumInterferenceIntegrationTest.java:234)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] Running com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest
2025-07-18T16:46:22.469+02:00  INFO 20530 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest]: QuantumArtifactsIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-18T16:46:22.471+02:00  INFO 20530 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.heroesoftimepoc.temporalengine.TemporalEngineApplication for test class com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest
2025-07-18T16:46:22.474+02:00  INFO 20530 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:22.484+02:00  INFO 20530 --- [           main] c.h.t.i.QuantumArtifactsIntegrationTest  : Starting QuantumArtifactsIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:22.484+02:00  INFO 20530 --- [           main] c.h.t.i.QuantumArtifactsIntegrationTest  : No active profile set, falling back to 1 default profile: "default"
2025-07-18T16:46:22.527+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:22.533+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:22.560+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:22.561+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:22.562+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:22.562+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-07-18T16:46:22.564+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection conn8: url=jdbc:h2:mem:quantumtestdb user=SA
2025-07-18T16:46:22.564+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-07-18T16:46:22.564+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:22.609+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: drop table if exists game_players cascade 
Hibernate: drop table if exists game_tiles cascade 
Hibernate: drop table if exists games cascade 
Hibernate: drop table if exists hero_inventory cascade 
Hibernate: drop table if exists heroes cascade 
Hibernate: drop table if exists psi_states cascade 
Hibernate: drop table if exists tile_occupants cascade 
Hibernate: create table game_players (game_id bigint not null, player_id varchar(255))
Hibernate: create table game_tiles (defense_bonus integer, has_psi_states boolean, is_locked boolean, is_temporal_zone boolean, lock_duration integer, movement_cost integer, temporal_energy_bonus integer, x integer not null, y integer not null, game_id bigint, id bigint generated by default as identity, building_owner varchar(255), building_type varchar(255), temporal_zone_type varchar(255), terrain varchar(255), primary key (id))
Hibernate: create table games (current_turn integer, map_height integer, map_width integer, max_players integer, created_at timestamp(6), ended_at timestamp(6), id bigint generated by default as identity, started_at timestamp(6), current_player varchar(255), current_timeline varchar(255), game_name varchar(255) not null, status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')), winner varchar(255), primary key (id))
Hibernate: create table hero_inventory (hero_id bigint not null, item varchar(255))
Hibernate: create table heroes (health integer, max_health integer, max_movement_points integer, max_temporal_energy integer, movement_points integer, position_x integer, position_y integer, temporal_energy integer, game_id bigint, id bigint generated by default as identity, name varchar(255) not null, player_id varchar(255), status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')), timeline_branch varchar(255), primary key (id))
Hibernate: create table psi_states (amplitude_imaginary float(53), amplitude_real float(53), delta_t integer, probability float(53), target_x integer, target_y integer, use_complex_amplitude boolean, created_at timestamp(6), game_id bigint, id bigint generated by default as identity, action_type varchar(255), branch_id varchar(255), collapse_trigger varchar(255), expression TEXT, owner_hero varchar(255), psi_id varchar(255) not null unique, status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')), primary key (id))
Hibernate: create table tile_occupants (tile_id bigint not null, occupant varchar(255))
Hibernate: alter table if exists game_players add constraint FKrbr2flqdav5ovyjas7q92u64r foreign key (game_id) references games
Hibernate: alter table if exists game_tiles add constraint FK9jnp7yfteauo45smvmxa8710m foreign key (game_id) references games
Hibernate: alter table if exists hero_inventory add constraint FKox21x0dd4fg7w81h3a8o6chu foreign key (hero_id) references heroes
Hibernate: alter table if exists heroes add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn foreign key (game_id) references games
Hibernate: alter table if exists psi_states add constraint FK9kbp67wo94i0jk9w4v3ja4meq foreign key (game_id) references games
Hibernate: alter table if exists tile_occupants add constraint FKia56skupqk3qxypotqpovr3gb foreign key (tile_id) references game_tiles
2025-07-18T16:46:22.619+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:22.684+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:22.727+02:00  INFO 20530 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:quantumtestdb'
2025-07-18T16:46:22.738+02:00  INFO 20530 --- [           main] c.h.t.i.QuantumArtifactsIntegrationTest  : Started QuantumArtifactsIntegrationTest in 0.264 seconds (process running for 6.257)
 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
 Artefacts quantiques chargs: 5
 Scripts quantiques chargs: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Test Artefacts Quantiques (ID: 1)
 Setup termin

 TEST 1: Sceptre de Foudre Quantique
=====================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Test: Bataille des Trois Tours
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: select ps1_0.id,ps1_0.action_type,ps1_0.branch_id,ps1_0.collapse_trigger,ps1_0.amplitude_imaginary,ps1_0.amplitude_real,ps1_0.created_at,ps1_0.delta_t,ps1_0.expression,ps1_0.game_id,ps1_0.owner_hero,ps1_0.probability,ps1_0.psi_id,ps1_0.status,ps1_0.target_x,ps1_0.target_y,ps1_0.use_complex_amplitude from psi_states ps1_0 where ps1_0.game_id=?
 Rsultats Sceptre de Foudre:
   - tats  crs: 3
   - Formule valide: (P(hit_i) * damage_i)
   - Principe: Superposition d'tats lectriques
 Test Sceptre de Foudre Quantique valid

 Nettoyage du test...
 Nettoyage termin
 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
 Artefacts quantiques chargs: 5
 Scripts quantiques chargs: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Test Artefacts Quantiques (ID: 2)
 Setup termin

 TEST 2: Gantelets du Portail Temporel
========================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Test: Sige Impossible
 Rsultats Gantelets du Portail:
   - Portail temporel: Russi
   - Formule valide: SUCCESS if |t| < temporal_stability_limit
   - Principe: Courbure de l'espace-temps
 Test Gantelets du Portail Temporel valid

 Nettoyage du test...
 Nettoyage termin
 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
 Artefacts quantiques chargs: 5
 Scripts quantiques chargs: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Test Artefacts Quantiques (ID: 3)
 Setup termin

 TEST 3: Masque des Probabilits
==================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Test: L'Oracle Aveugle
 Rsultats Masque des Probabilits:
   - Champ d'incertitude: Actif
   - Formule valide: 1 - (certainty_factor)^quantum_modifier
   - Principe: Principe d'incertitude de Heisenberg
 Test Masque des Probabilits valid

 Nettoyage du test...
 Nettoyage termin
 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
 Artefacts quantiques chargs: 5
 Scripts quantiques chargs: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Test Artefacts Quantiques (ID: 4)
 Setup termin

 TEST 4: Chanes du Destin
============================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Test: Le Dragon Tyran
 Rsultats Chanes du Destin:
   - Lien karmique: tabli
   - Formule valide: shared_fate(damage, healing, status_effects)
   - Principe: Entanglement quantique tendu
 Test Chanes du Destin valid

 Nettoyage du test...
 Nettoyage termin
 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
 Artefacts quantiques chargs: 5
 Scripts quantiques chargs: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Test Artefacts Quantiques (ID: 5)
 Setup termin

 TEST 5: Bouclier Miroir Quantique
====================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Test: Arme de Miroirs
 Rsultats Bouclier Miroir Quantique:
   - Rflexion quantique: Active
   - Formule valide: duplicate(attack) * reflection_coefficient
   - Principe: Dualit onde-particule
 Test Bouclier Miroir Quantique valid

 Nettoyage du test...
 Nettoyage termin
 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
 Artefacts quantiques chargs: 5
 Scripts quantiques chargs: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Test Artefacts Quantiques (ID: 6)
 Setup termin

 TEST 6: Synergie Quantique Ultime
=====================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: select ps1_0.id,ps1_0.action_type,ps1_0.branch_id,ps1_0.collapse_trigger,ps1_0.amplitude_imaginary,ps1_0.amplitude_real,ps1_0.created_at,ps1_0.delta_t,ps1_0.expression,ps1_0.game_id,ps1_0.owner_hero,ps1_0.probability,ps1_0.psi_id,ps1_0.status,ps1_0.target_x,ps1_0.target_y,ps1_0.use_complex_amplitude from psi_states ps1_0 where ps1_0.game_id=?
Hibernate: select h1_0.id,h1_0.game_id,h1_0.health,h1_0.max_health,h1_0.max_movement_points,h1_0.max_temporal_energy,h1_0.movement_points,h1_0.name,h1_0.player_id,h1_0.position_x,h1_0.position_y,h1_0.status,h1_0.temporal_energy,h1_0.timeline_branch from heroes h1_0
 Rsultats Synergie Quantique Ultime:
   - Hros quips: 3
   - tats  actifs: 0
   - Synergies testes: 3
   - Boss final: Engag
 Nettoyage du test...
 Nettoyage termin
 Initialisation des tests d'artefacts quantiques Tier 6
==========================================================
 Artefacts quantiques chargs: 5
 Scripts quantiques chargs: 102 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Test Artefacts Quantiques (ID: 7)
 Setup termin

 TEST 7: Validation Mathmatique des Formules
===============================================
 Formule: CHAIN_PROBABILITY = 1 - (1-p)^n o p=0.7
 Formule: QUANTUM_LIGHTNING = (P(hit_i) * damage_i) for all i in superposition
 Formule: UNCERTAINTY = 1 - (certainty_factor)^quantum_modifier
 Formule: QUANTUM_REFLECT = duplicate(attack) * reflection_coefficient
 Formule: KARMA_LINK = shared_fate(damage, healing, status_effects)
 Rsultats Validation Mathmatique:
   - Formules valides: 5
   - Principes quantiques: 6
   - Cohrence mathmatique: 
 Test Validation Mathmatique valid

 Nettoyage du test...
 Nettoyage termin

 RSUM FINAL - TESTS ARTEFACTS QUANTIQUES TIER 6
===================================================
 Sceptre de Foudre Quantique: VALID
 Gantelets du Portail Temporel: VALID
 Masque des Probabilits: VALID
 Chanes du Destin: VALID
 Bouclier Miroir Quantique: VALID
 Synergie Quantique Ultime: VALID
 Formules Mathmatiques: VALIDES

 TOUS LES ARTEFACTS QUANTIQUES TIER 6 OPRATIONNELS !
 Systme quantique avanc prt pour la production !

[ERROR] Tests run: 7, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.404 s <<< FAILURE! -- in com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest
[ERROR] com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testQuantumSynergy -- Time elapsed: 0.018 s <<< FAILURE!
org.opentest4j.AssertionFailedError: Au moins 5 tats  doivent tre actifs ==> expected: <true> but was: <false>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)
	at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)
	at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:214)
	at com.heroesoftimepoc.temporalengine.integration.QuantumArtifactsIntegrationTest.testQuantumSynergy(QuantumArtifactsIntegrationTest.java:402)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] Running com.heroesoftimepoc.temporalengine.integration.BatailleTemporelleIntegrationTest
2025-07-18T16:46:22.874+02:00  INFO 20530 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.heroesoftimepoc.temporalengine.integration.BatailleTemporelleIntegrationTest]: BatailleTemporelleIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-18T16:46:22.874+02:00  INFO 20530 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.heroesoftimepoc.temporalengine.TemporalEngineApplication for test class com.heroesoftimepoc.temporalengine.integration.BatailleTemporelleIntegrationTest
 Initialisation des tests de Bataille Temporelle
======================================================
2025-07-18T16:46:22.878+02:00  INFO 20530 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:22.887+02:00  INFO 20530 --- [           main] .h.t.i.BatailleTemporelleIntegrationTest : Starting BatailleTemporelleIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:22.887+02:00 DEBUG 20530 --- [           main] .h.t.i.BatailleTemporelleIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T16:46:22.887+02:00  INFO 20530 --- [           main] .h.t.i.BatailleTemporelleIntegrationTest : No active profile set, falling back to 1 default profile: "default"
2025-07-18T16:46:22.932+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:22.937+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:22.960+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:22.961+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:22.962+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:22.963+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2025-07-18T16:46:22.965+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection conn18: url=jdbc:h2:mem:temporaldb user=SA
2025-07-18T16:46:22.965+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2025-07-18T16:46:22.965+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:23.016+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: drop table if exists game_players cascade 
Hibernate: drop table if exists game_tiles cascade 
Hibernate: drop table if exists games cascade 
Hibernate: drop table if exists hero_inventory cascade 
Hibernate: drop table if exists heroes cascade 
Hibernate: drop table if exists psi_states cascade 
Hibernate: drop table if exists tile_occupants cascade 
Hibernate: create table game_players (game_id bigint not null, player_id varchar(255))
Hibernate: create table game_tiles (defense_bonus integer, has_psi_states boolean, is_locked boolean, is_temporal_zone boolean, lock_duration integer, movement_cost integer, temporal_energy_bonus integer, x integer not null, y integer not null, game_id bigint, id bigint generated by default as identity, building_owner varchar(255), building_type varchar(255), temporal_zone_type varchar(255), terrain varchar(255), primary key (id))
Hibernate: create table games (current_turn integer, map_height integer, map_width integer, max_players integer, created_at timestamp(6), ended_at timestamp(6), id bigint generated by default as identity, started_at timestamp(6), current_player varchar(255), current_timeline varchar(255), game_name varchar(255) not null, status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')), winner varchar(255), primary key (id))
Hibernate: create table hero_inventory (hero_id bigint not null, item varchar(255))
Hibernate: create table heroes (health integer, max_health integer, max_movement_points integer, max_temporal_energy integer, movement_points integer, position_x integer, position_y integer, temporal_energy integer, game_id bigint, id bigint generated by default as identity, name varchar(255) not null, player_id varchar(255), status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')), timeline_branch varchar(255), primary key (id))
Hibernate: create table psi_states (amplitude_imaginary float(53), amplitude_real float(53), delta_t integer, probability float(53), target_x integer, target_y integer, use_complex_amplitude boolean, created_at timestamp(6), game_id bigint, id bigint generated by default as identity, action_type varchar(255), branch_id varchar(255), collapse_trigger varchar(255), expression TEXT, owner_hero varchar(255), psi_id varchar(255) not null unique, status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')), primary key (id))
Hibernate: create table tile_occupants (tile_id bigint not null, occupant varchar(255))
Hibernate: alter table if exists game_players add constraint FKrbr2flqdav5ovyjas7q92u64r foreign key (game_id) references games
Hibernate: alter table if exists game_tiles add constraint FK9jnp7yfteauo45smvmxa8710m foreign key (game_id) references games
Hibernate: alter table if exists hero_inventory add constraint FKox21x0dd4fg7w81h3a8o6chu foreign key (hero_id) references heroes
Hibernate: alter table if exists heroes add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn foreign key (game_id) references games
Hibernate: alter table if exists psi_states add constraint FK9kbp67wo94i0jk9w4v3ja4meq foreign key (game_id) references games
Hibernate: alter table if exists tile_occupants add constraint FKia56skupqk3qxypotqpovr3gb foreign key (tile_id) references game_tiles
2025-07-18T16:46:23.023+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:23.083+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:23.109+02:00  INFO 20530 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:temporaldb'
2025-07-18T16:46:23.117+02:00  INFO 20530 --- [           main] .h.t.i.BatailleTemporelleIntegrationTest : Started BatailleTemporelleIntegrationTest in 0.239 seconds (process running for 6.636)
 Setup du test...
 Scnario charg: Bataille Temporelle
  Artefacts temporels chargs: 7
 Cratures charges: 4
 Scripts .hots chargs:
   - Setup: 23 commandes
   - Combat: 32 commandes
   - Finale: 58 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Bataille Temporelle Test (ID: 1)
 Setup termin

 TEST 1: Phase de Setup
=========================
 Excution: HERO(Arthur)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs: Hero Arthur created successfully
 Excution: HERO(Morgana)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs: Hero Morgana created successfully
 Excution: MOV(Arthur, @5,5)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs: Hero Arthur moved to (5,5)
 Excution: MOV(Morgana, @15,15)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs: Hero Morgana moved to (15,15)
 Excution: EQUIP(Arthur, temporal_sword)
 Succs: null
 Excution: EQUIP(Arthur, mystic_orb)
 Succs: null
 Excution: EQUIP(Morgana, chrono_staff)
 Succs: null
 Excution: EQUIP(Morgana, reality_gem)
 Succs: null
 Excution: CREATE(CREATURE, DragonRouge, @10,10)
 Succs: DragonRouge created at (10,10)
 Excution: CREATE(CREATURE, PhantomWarriors, @8,12)
 Succs: PhantomWarriors created at (8,12)
 Excution: CREATE(ARTIFACT, LameAvantMonde, @10,10)
 Succs: Entity created: ARTIFACT LameAvantMonde
 Excution: CREATE(ARTIFACT, HorlogeInversee, @3,17)
 Succs: Entity created: ARTIFACT HorlogeInversee
 Excution: CREATE(ARTIFACT, OrbeProbabilite, @12,6)
 Succs: Entity created: ARTIFACT OrbeProbabilite
 Excution: CREATE(ZONE, TemporalZone, @9,9, 3x3)
 Succs: null
 Excution: CREATE(ZONE, QuantumField, @1,1, 2x2)
 Succs: null
 Excution: 001: (t+1 @6,5  MOV(Arthur, @6,5))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 001 created successfully
 Excution: 002: (t+2 @14,15  MOV(Morgana, @14,15))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 002 created successfully
 Excution: 001 | OBSERVE(DragonRouge)   001
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 001 collapsed successfully
 Excution: LOG("Bataille Temporelle - Setup termin")
 Succs: null
 Excution: LOG("Hros crs: Arthur, Morgana")
 Succs: null
 Excution: LOG("Cratures places: Dragon Rouge, Guerriers Fantmes")
 Succs: null
 Excution: LOG("Artefacts temporels: 3 objets placs")
 Succs: null
 Excution: LOG("tats  actifs: 2 superpositions")
 Succs: null

 Rsultats Setup:
   - Commandes excutes: 23/23
   - Taux de russite: 100.0%
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: select h1_0.id,h1_0.game_id,h1_0.health,h1_0.max_health,h1_0.max_movement_points,h1_0.max_temporal_energy,h1_0.movement_points,h1_0.name,h1_0.player_id,h1_0.position_x,h1_0.position_y,h1_0.status,h1_0.temporal_energy,h1_0.timeline_branch from heroes h1_0 where h1_0.game_id=?
Hibernate: select ps1_0.id,ps1_0.action_type,ps1_0.branch_id,ps1_0.collapse_trigger,ps1_0.amplitude_imaginary,ps1_0.amplitude_real,ps1_0.created_at,ps1_0.delta_t,ps1_0.expression,ps1_0.game_id,ps1_0.owner_hero,ps1_0.probability,ps1_0.psi_id,ps1_0.status,ps1_0.target_x,ps1_0.target_y,ps1_0.use_complex_amplitude from psi_states ps1_0 where ps1_0.game_id=?
 Phase de Setup valide
 Nettoyage du test...
 Nettoyage termin
 Setup du test...
 Scnario charg: Bataille Temporelle
  Artefacts temporels chargs: 7
 Cratures charges: 4
 Scripts .hots chargs:
   - Setup: 23 commandes
   - Combat: 32 commandes
   - Finale: 58 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Bataille Temporelle Test (ID: 2)
 Setup termin

  TEST 2: Phase de Combat
===========================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Excution: 003: (t+1 @6,6  MOV(Arthur, @6,6))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 003 created successfully
 Excution: 004: (t+1 @6,4  MOV(Arthur, @6,4))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 004 created successfully
 Excution: 005: (t+1 @7,5  MOV(Arthur, @7,5))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 005 created successfully
 Excution: 003  004  005 | OBSERVE(Morgana)   003
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 003 collapsed successfully
 Excution: USE(ARTIFACT, temporal_sword, HERO:Arthur)
 Succs: Used ARTIFACT temporal_sword
 Excution: 006: (t+1 @9,9  BATTLE(Arthur, DragonRouge))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 006 created successfully
 Excution: BRANCH(TimeLine_A): 007: (t+2 @10,8  CAST(Arthur, quantum_leap))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 007 created successfully
 Excution: BRANCH(TimeLine_B): 008: (t+2 @10,12  CAST(Arthur, time_anchor))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 008 created successfully
 Excution: 009: (t+1 @14,14  MOV(Morgana, @14,14))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 009 created successfully
 Excution: USE(ARTIFACT, chrono_staff, HERO:Morgana)
 Succs: Used ARTIFACT chrono_staff
 Excution: 010: (t+2 @11,11  CAST(Morgana, temporal_shield))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 010 created successfully
 Excution: 011: (t+3 @10,10  COLLECT(Arthur, LameAvantMonde))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 011 created successfully
 Excution: 012: (t+3 @10,10  COLLECT(Morgana, LameAvantMonde))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 012 created successfully
 Excution: 011  012 | QUANTUM_CONFLICT(@10,10)   RESOLVE(probability_wave)
 Succs: null
 Excution: 013: (t+1 @8,12  BATTLE(Arthur, PhantomWarriors))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 013 created successfully
 Excution: 013  # Collapse immdiat pour battle fantme
 Succs:  state 013 collapsed successfully
 Excution: USE(ARTIFACT, HorlogeInversee, HERO:Morgana)
 Succs: Used ARTIFACT HorlogeInversee
 Excution: REWIND(2)  # Retour 2 tours en arrire
 Succs: null
 Excution: 014: (t+1 @16,16  MOV(Morgana, @16,16))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 014 created successfully
 Excution: 015: (t+2 @12,6  COLLECT(Morgana, OrbeProbabilite))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 015 created successfully
 Excution: USE(ARTIFACT, OrbeProbabilite, HERO:Morgana)
 Succs: Used ARTIFACT OrbeProbabilite
 Excution: BOOST(probability, 0.25)
 Succs: null
 Excution: 016: (t+1 P=0.85 @11,10  BATTLE(Morgana, DragonRouge))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 016 created successfully
 Excution: 014 | OBSERVE(Arthur)   014
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 014 collapsed successfully
 Excution: 015 | OBSERVE(DragonRouge)   015
 Succs:  state 015 collapsed successfully
 Excution: 016 | OBSERVE(PhantomWarriors)   016
 Succs:  state 016 collapsed successfully
 Excution: LOG("Combat Phase - Mcaniques temporelles testes")
 Succs: null
 Excution: LOG("Superpositions cres: 7 tats ")
 Succs: null
 Excution: LOG("Collapse dclenchs: 6 observations")
 Succs: null
 Excution: LOG("Artefacts utiliss: 3 objets temporels")
 Succs: null
 Excution: LOG("Conflits temporels: 1 rsolution quantique")
 Succs: null
 Excution: LOG("Rewind effectu: 2 tours")
 Succs: null

 Rsultats Combat:
   - Commandes excutes: 32/32
   - tats  crs: 19
   - Collapses dclenchs: 5
   - Taux de russite: 100.0%
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: select ps1_0.id,ps1_0.action_type,ps1_0.branch_id,ps1_0.collapse_trigger,ps1_0.amplitude_imaginary,ps1_0.amplitude_real,ps1_0.created_at,ps1_0.delta_t,ps1_0.expression,ps1_0.game_id,ps1_0.owner_hero,ps1_0.probability,ps1_0.psi_id,ps1_0.status,ps1_0.target_x,ps1_0.target_y,ps1_0.use_complex_amplitude from psi_states ps1_0 where ps1_0.game_id=?
   - tats  actifs: 10
   - tats  totaux: 16
 Phase de Combat valide
 Nettoyage du test...
 Nettoyage termin
 Setup du test...
 Scnario charg: Bataille Temporelle
  Artefacts temporels chargs: 7
 Cratures charges: 4
 Scripts .hots chargs:
   - Setup: 23 commandes
   - Combat: 32 commandes
   - Finale: 58 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Bataille Temporelle Test (ID: 3)
 Setup termin

 TEST 3: Phase Finale
========================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Excution: 017: (t+1 @9,9  MOV(Arthur, @9,9))  # Zone temporelle
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 017 created successfully
 Excution: 018: (t+1 @10,9  MOV(Morgana, @10,9))  # Zone temporelle
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 018 created successfully
 Excution: 019: (t+2 @10,10  BATTLE(Arthur, DragonRouge))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 019 created successfully
 Excution: 020: (t+2 @10,10  BATTLE(Morgana, DragonRouge))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 020 created successfully
 Excution: 019  020 | QUANTUM_ENTANGLEMENT(@10,10)   SUPERPOSITION(dual_victory)
 Succs: null
 Excution: USE(ARTIFACT, LameAvantMonde, HERO:Arthur)
 Succs: Used ARTIFACT LameAvantMonde
 Excution: QUANTUM_STRIKE(Arthur, DragonRouge, P=0.95)
 Succs: null
 Excution: CAPTURE(Arthur, TemporalZone)
 Succs: null
 Excution: HOLD(TemporalZone, 1)  # Tour 1 de contrle
 Succs: null
 Excution: 021: (t+1 @11,11  CREATE(PARADOX, temporal_loop))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 021 created successfully
 Excution: RESOLVE(PARADOX, temporal_loop, METHOD:quantum_decoherence)
 Succs: null
 Excution: 022: (t+1 @8,12  BATTLE(Arthur, PhantomWarriors))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 022 created successfully
 Excution: 023: (t+1 @8,12  BATTLE(Morgana, PhantomWarriors))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 023 created successfully
 Excution: 022  # Arthur battle fantme
 Succs:  state 022 collapsed successfully
 Excution: 023  # Morgana battle fantme
 Succs:  state 023 collapsed successfully
 Excution: TEMPORAL_BOOST(Arthur, energy=25)
 Succs: null
 Excution: TEMPORAL_BOOST(Morgana, energy=25)
 Succs: null
 Excution: 024: (t+1 @12,6  COLLECT(Arthur, OrbeProbabilite))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 024 created successfully
 Excution: 024
 Succs:  state 024 collapsed successfully
 Excution: CHECK(VICTORY_CONDITION, ELIMINATE_ENEMY_HEROES)
 Succs: null
 Excution: CHECK(VICTORY_CONDITION, COLLECT_TEMPORAL_ARTIFACTS)
 Succs: null
 Excution: CHECK(VICTORY_CONDITION, CONTROL_TEMPORAL_ZONES)
 Succs: null
 Excution: BRANCH(Victory_Timeline): 025: (t+1 @10,10  VICTORY(Arthur))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 025 created successfully
 Excution: BRANCH(Defeat_Timeline): 026: (t+1 @10,10  DEFEAT(Arthur))
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
 Succs:  state 026 created successfully
 Excution: 025  026 | OBSERVE(universal_witness)   COLLAPSE(final_state)
 Succs: null
 Excution: CLEANUP(expired_psi_states)
 Succs: null
 Excution: RESTORE(timeline_coherence)
 Succs: null
 Excution: LOG("Bataille Temporelle - Finale termine")
 Succs: null
 Excution: LOG("tats  totaux crs: 26 superpositions")
 Succs: null
 Excution: LOG("Collapses effectus: 15 observations")
 Succs: null
 Excution: LOG("Artefacts temporels utiliss: 5 objets")
 Succs: null
 Excution: LOG("Paradoxes rsolus: 1 boucle temporelle")
 Succs: null
 Excution: LOG("Zones temporelles contrles: 1 zone")
 Succs: null
 Excution: LOG("Batailles fantmes: 4 combats")
 Succs: null
 Excution: LOG("Branching temporels: 3 timelines")
 Succs: null
 Excution: LOG("Rsolution quantique: 2 entanglements")
 Succs: null
 Excution: STATS("Arthur", {
 Succs: null
 Excution: "movements": 8,
 Succs: null
 Excution: "battles": 5,
 Succs: null
 Excution: "artifacts_used": 3,
 Succs: null
 Excution: "psi_states_created": 12,
 Succs: null
 Excution: "quantum_actions": 6,
 Succs: null
 Excution: "temporal_energy_used": 180,
 Succs: null
 Excution: "victory_probability": 0.73
 Succs: null
 Excution: })
 Succs: null
 Excution: STATS("Morgana", {
 Succs: null
 Excution: "movements": 7,
 Succs: null
 Excution: "battles": 4,
 Succs: null
 Excution: "artifacts_used": 2,
 Succs: null
 Excution: "psi_states_created": 10,
 Succs: null
 Excution: "quantum_actions": 5,
 Succs: null
 Excution: "temporal_energy_used": 165,
 Succs: null
 Excution: "victory_probability": 0.68
 Succs: null
 Excution: })
 Succs: null
 Excution: LOG("=== BATAILLE TEMPORELLE COMPLETE ===")
 Succs: null
 Excution: LOG("Toutes les mcaniques temporelles ont t testes avec succs")
 Succs: null
 Excution: LOG("Le moteur quantique fonctionne correctement")
 Succs: null
 Excution: LOG("Scnario de test valid pour intgration continue")
 Succs: null

 Rsultats Finale:
   - Commandes excutes: 58/58
   - Taux de russite: 100.0%
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: select ps1_0.id,ps1_0.action_type,ps1_0.branch_id,ps1_0.collapse_trigger,ps1_0.amplitude_imaginary,ps1_0.amplitude_real,ps1_0.created_at,ps1_0.delta_t,ps1_0.expression,ps1_0.game_id,ps1_0.owner_hero,ps1_0.probability,ps1_0.psi_id,ps1_0.status,ps1_0.target_x,ps1_0.target_y,ps1_0.use_complex_amplitude from psi_states ps1_0 where ps1_0.game_id=?
   - tats  finaux: 26
 Phase Finale valide
 Nettoyage du test...
 Nettoyage termin
 Setup du test...
 Scnario charg: Bataille Temporelle
  Artefacts temporels chargs: 7
 Cratures charges: 4
 Scripts .hots chargs:
   - Setup: 23 commandes
   - Combat: 32 commandes
   - Finale: 58 commandes
Hibernate: insert into games (created_at,current_player,current_timeline,current_turn,ended_at,game_name,map_height,map_width,max_players,started_at,status,winner,id) values (?,?,?,?,?,?,?,?,?,?,?,?,default)
 Partie cre: Bataille Temporelle Test (ID: 4)
 Setup termin

 TEST 4: Validation Systme Complet
=====================================
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into heroes (game_id,health,max_health,max_movement_points,max_temporal_energy,movement_points,name,player_id,position_x,position_y,status,temporal_energy,timeline_branch,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into game_tiles (building_owner,building_type,defense_bonus,game_id,has_psi_states,is_locked,is_temporal_zone,lock_duration,movement_cost,temporal_energy_bonus,temporal_zone_type,terrain,x,y,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
Hibernate: insert into psi_states (action_type,branch_id,collapse_trigger,amplitude_imaginary,amplitude_real,created_at,delta_t,expression,game_id,owner_hero,probability,psi_id,status,target_x,target_y,use_complex_amplitude,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)

 STATISTIQUES FINALES:
==========================
   - Commandes totales: 113
   - Commandes russies: 113
   - Taux de russite global: 100.0%
   - Hros finaux: 2
   - tats  finaux: 17
   - Tuiles finales: 5
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update heroes set game_id=?,health=?,max_health=?,max_movement_points=?,max_temporal_energy=?,movement_points=?,name=?,player_id=?,position_x=?,position_y=?,status=?,temporal_energy=?,timeline_branch=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: update psi_states set action_type=?,branch_id=?,collapse_trigger=?,amplitude_imaginary=?,amplitude_real=?,created_at=?,delta_t=?,expression=?,game_id=?,owner_hero=?,probability=?,psi_id=?,status=?,target_x=?,target_y=?,use_complex_amplitude=? where id=?
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: insert into tile_occupants (tile_id,occupant) values (?,?)
Hibernate: select h1_0.id,h1_0.game_id,h1_0.health,h1_0.max_health,h1_0.max_movement_points,h1_0.max_temporal_energy,h1_0.movement_points,h1_0.name,h1_0.player_id,h1_0.position_x,h1_0.position_y,h1_0.status,h1_0.temporal_energy,h1_0.timeline_branch from heroes h1_0 where h1_0.game_id=?

 BATAILLE TEMPORELLE TERMINE AVEC SUCCS!
==============================================
 Tous les tests du systme temporel ont t valids
 Les scripts .hots fonctionnent correctement
 Les artefacts temporels sont oprationnels
 Le moteur quantique est stable
 Nettoyage du test...
 Nettoyage termin
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.423 s -- in com.heroesoftimepoc.temporalengine.integration.BatailleTemporelleIntegrationTest
[INFO] Running com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest
2025-07-18T16:46:23.299+02:00  INFO 20530 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest]: TemporalEngineIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-18T16:46:23.304+02:00  INFO 20530 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.heroesoftimepoc.temporalengine.TemporalEngineApplication for test class com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest
2025-07-18T16:46:23.305+02:00  INFO 20530 --- [           main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-18T16:46:23.320+02:00  INFO 20530 --- [           main] c.h.t.TemporalEngineIntegrationTest      : Starting TemporalEngineIntegrationTest using Java 17.0.15 with PID 20530 (started by admin in /Users/admin/HOT/Heroes-of-Time/backend)
2025-07-18T16:46:23.320+02:00 DEBUG 20530 --- [           main] c.h.t.TemporalEngineIntegrationTest      : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-18T16:46:23.320+02:00  INFO 20530 --- [           main] c.h.t.TemporalEngineIntegrationTest      : The following 1 profile is active: "test"
2025-07-18T16:46:23.321+02:00 DEBUG 20530 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2ef32703
2025-07-18T16:46:23.364+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-18T16:46:23.369+02:00  INFO 20530 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 4 JPA repository interfaces.
2025-07-18T16:46:23.391+02:00  INFO 20530 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-18T16:46:23.392+02:00  INFO 20530 --- [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-18T16:46:23.393+02:00  INFO 20530 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-18T16:46:23.393+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2025-07-18T16:46:23.394+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection conn28: url=jdbc:h2:mem:testdb user=SA
2025-07-18T16:46:23.394+02:00  INFO 20530 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2025-07-18T16:46:23.394+02:00  WARN 20530 --- [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-18T16:46:23.447+02:00  INFO 20530 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-18T16:46:23.447+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_players cascade 
2025-07-18T16:46:23.447+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists game_tiles cascade 
2025-07-18T16:46:23.447+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists games cascade 
2025-07-18T16:46:23.447+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists hero_inventory cascade 
2025-07-18T16:46:23.447+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists heroes cascade 
2025-07-18T16:46:23.447+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists psi_states cascade 
2025-07-18T16:46:23.448+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    drop table if exists tile_occupants cascade 
2025-07-18T16:46:23.448+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_players (
        game_id bigint not null,
        player_id varchar(255)
    )
2025-07-18T16:46:23.450+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table game_tiles (
        defense_bonus integer,
        has_psi_states boolean,
        is_locked boolean,
        is_temporal_zone boolean,
        lock_duration integer,
        movement_cost integer,
        temporal_energy_bonus integer,
        x integer not null,
        y integer not null,
        game_id bigint,
        id bigint generated by default as identity,
        building_owner varchar(255),
        building_type varchar(255),
        temporal_zone_type varchar(255),
        terrain varchar(255),
        primary key (id)
    )
2025-07-18T16:46:23.452+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table games (
        current_turn integer,
        map_height integer,
        map_width integer,
        max_players integer,
        created_at timestamp(6),
        ended_at timestamp(6),
        id bigint generated by default as identity,
        started_at timestamp(6),
        current_player varchar(255),
        current_timeline varchar(255),
        game_name varchar(255) not null,
        status varchar(255) check (status in ('WAITING','ACTIVE','PAUSED','FINISHED','CANCELLED')),
        winner varchar(255),
        primary key (id)
    )
2025-07-18T16:46:23.453+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table hero_inventory (
        hero_id bigint not null,
        item varchar(255)
    )
2025-07-18T16:46:23.454+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table heroes (
        health integer,
        max_health integer,
        max_movement_points integer,
        max_temporal_energy integer,
        movement_points integer,
        position_x integer,
        position_y integer,
        temporal_energy integer,
        game_id bigint,
        id bigint generated by default as identity,
        name varchar(255) not null,
        player_id varchar(255),
        status varchar(255) check (status in ('ACTIVE','TEMPORAL_SHIFT','QUANTUM_SUPERPOSITION','COLLAPSED','DEAD')),
        timeline_branch varchar(255),
        primary key (id)
    )
2025-07-18T16:46:23.454+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table psi_states (
        amplitude_imaginary float(53),
        amplitude_real float(53),
        delta_t integer,
        probability float(53),
        target_x integer,
        target_y integer,
        use_complex_amplitude boolean,
        created_at timestamp(6),
        game_id bigint,
        id bigint generated by default as identity,
        action_type varchar(255),
        branch_id varchar(255),
        collapse_trigger varchar(255),
        expression TEXT,
        owner_hero varchar(255),
        psi_id varchar(255) not null unique,
        status varchar(255) check (status in ('ACTIVE','COLLAPSED','TRIGGERED','EXPIRED')),
        primary key (id)
    )
2025-07-18T16:46:23.455+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    create table tile_occupants (
        tile_id bigint not null,
        occupant varchar(255)
    )
2025-07-18T16:46:23.455+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_players 
       add constraint FKrbr2flqdav5ovyjas7q92u64r 
       foreign key (game_id) 
       references games
2025-07-18T16:46:23.457+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists game_tiles 
       add constraint FK9jnp7yfteauo45smvmxa8710m 
       foreign key (game_id) 
       references games
2025-07-18T16:46:23.458+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists hero_inventory 
       add constraint FKox21x0dd4fg7w81h3a8o6chu 
       foreign key (hero_id) 
       references heroes
2025-07-18T16:46:23.458+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists heroes 
       add constraint FKb88jgdc3dfmmhbnrpl6u5sjdn 
       foreign key (game_id) 
       references games
2025-07-18T16:46:23.459+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists psi_states 
       add constraint FK9kbp67wo94i0jk9w4v3ja4meq 
       foreign key (game_id) 
       references games
2025-07-18T16:46:23.460+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    alter table if exists tile_occupants 
       add constraint FKia56skupqk3qxypotqpovr3gb 
       foreign key (tile_id) 
       references game_tiles
2025-07-18T16:46:23.461+02:00  INFO 20530 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-18T16:46:23.531+02:00  WARN 20530 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-18T16:46:23.538+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 40 mappings in 'requestMappingHandlerMapping'
2025-07-18T16:46:23.547+02:00 DEBUG 20530 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-18T16:46:23.550+02:00 DEBUG 20530 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-18T16:46:23.552+02:00 DEBUG 20530 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-18T16:46:23.561+02:00  INFO 20530 --- [           main] c.h.t.TemporalEngineIntegrationTest      : Started TemporalEngineIntegrationTest in 0.256 seconds (process running for 7.079)
2025-07-18T16:46:23.563+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.566+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.567+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.568+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.568+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile */insert 
    into
        game_tiles (building_owner, building_type, defense_bonus, game_id, has_psi_states, is_locked, is_temporal_zone, lock_duration, movement_cost, temporal_energy_bonus, temporal_zone_type, terrain, x, y, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.569+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile */insert 
    into
        game_tiles (building_owner, building_type, defense_bonus, game_id, has_psi_states, is_locked, is_temporal_zone, lock_duration, movement_cost, temporal_energy_bonus, temporal_zone_type, terrain, x, y, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.569+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.570+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.571+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.574+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.Hero */update heroes 
    set
        game_id=?,
        health=?,
        max_health=?,
        max_movement_points=?,
        max_temporal_energy=?,
        movement_points=?,
        name=?,
        player_id=?,
        position_x=?,
        position_y=?,
        status=?,
        temporal_energy=?,
        timeline_branch=? 
    where
        id=?
2025-07-18T16:46:23.600+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.601+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.601+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.602+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile.occupants */insert 
    into
        tile_occupants (tile_id, occupant) 
    values
        (?, ?)
2025-07-18T16:46:23.602+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile.occupants */insert 
    into
        tile_occupants (tile_id, occupant) 
    values
        (?, ?)
2025-07-18T16:46:23.602+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        h 
    FROM
        Hero h 
    WHERE
        h.game.id = :gameId */ select
            h1_0.id,
            h1_0.game_id,
            h1_0.health,
            h1_0.max_health,
            h1_0.max_movement_points,
            h1_0.max_temporal_energy,
            h1_0.movement_points,
            h1_0.name,
            h1_0.player_id,
            h1_0.position_x,
            h1_0.position_y,
            h1_0.status,
            h1_0.temporal_energy,
            h1_0.timeline_branch 
        from
            heroes h1_0 
        where
            h1_0.game_id=?
2025-07-18T16:46:23.611+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        p 
    FROM
        PsiState p 
    WHERE
        p.game.id = :gameId */ select
            ps1_0.id,
            ps1_0.action_type,
            ps1_0.branch_id,
            ps1_0.collapse_trigger,
            ps1_0.amplitude_imaginary,
            ps1_0.amplitude_real,
            ps1_0.created_at,
            ps1_0.delta_t,
            ps1_0.expression,
            ps1_0.game_id,
            ps1_0.owner_hero,
            ps1_0.probability,
            ps1_0.psi_id,
            ps1_0.status,
            ps1_0.target_x,
            ps1_0.target_y,
            ps1_0.use_complex_amplitude 
        from
            psi_states ps1_0 
        where
            ps1_0.game_id=?
2025-07-18T16:46:23.621+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.622+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.623+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.623+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.624+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.625+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.626+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.626+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        p 
    FROM
        PsiState p 
    WHERE
        p.game.id = :gameId 
        AND p.targetX = :x 
        AND p.targetY = :y */ select
            ps1_0.id,
            ps1_0.action_type,
            ps1_0.branch_id,
            ps1_0.collapse_trigger,
            ps1_0.amplitude_imaginary,
            ps1_0.amplitude_real,
            ps1_0.created_at,
            ps1_0.delta_t,
            ps1_0.expression,
            ps1_0.game_id,
            ps1_0.owner_hero,
            ps1_0.probability,
            ps1_0.psi_id,
            ps1_0.status,
            ps1_0.target_x,
            ps1_0.target_y,
            ps1_0.use_complex_amplitude 
        from
            psi_states ps1_0 
        where
            ps1_0.game_id=? 
            and ps1_0.target_x=? 
            and ps1_0.target_y=?
2025-07-18T16:46:23.632+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.632+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* <criteria> */ select
        ps1_0.id,
        ps1_0.action_type,
        ps1_0.branch_id,
        ps1_0.collapse_trigger,
        ps1_0.amplitude_imaginary,
        ps1_0.amplitude_real,
        ps1_0.created_at,
        ps1_0.delta_t,
        ps1_0.expression,
        ps1_0.game_id,
        ps1_0.owner_hero,
        ps1_0.probability,
        ps1_0.psi_id,
        ps1_0.status,
        ps1_0.target_x,
        ps1_0.target_y,
        ps1_0.use_complex_amplitude 
    from
        psi_states ps1_0 
    where
        ps1_0.psi_id=?
2025-07-18T16:46:23.633+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* <criteria> */ select
        ps1_0.id,
        ps1_0.action_type,
        ps1_0.branch_id,
        ps1_0.collapse_trigger,
        ps1_0.amplitude_imaginary,
        ps1_0.amplitude_real,
        ps1_0.created_at,
        ps1_0.delta_t,
        ps1_0.expression,
        ps1_0.game_id,
        ps1_0.owner_hero,
        ps1_0.probability,
        ps1_0.psi_id,
        ps1_0.status,
        ps1_0.target_x,
        ps1_0.target_y,
        ps1_0.use_complex_amplitude 
    from
        psi_states ps1_0 
    where
        ps1_0.psi_id=?
2025-07-18T16:46:23.636+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.636+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.637+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.638+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.638+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.638+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* <criteria> */ select
        ps1_0.id,
        ps1_0.action_type,
        ps1_0.branch_id,
        ps1_0.collapse_trigger,
        ps1_0.amplitude_imaginary,
        ps1_0.amplitude_real,
        ps1_0.created_at,
        ps1_0.delta_t,
        ps1_0.expression,
        ps1_0.game_id,
        ps1_0.owner_hero,
        ps1_0.probability,
        ps1_0.psi_id,
        ps1_0.status,
        ps1_0.target_x,
        ps1_0.target_y,
        ps1_0.use_complex_amplitude 
    from
        psi_states ps1_0 
    where
        ps1_0.psi_id=?
2025-07-18T16:46:23.640+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.640+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* <criteria> */ select
        ps1_0.id,
        ps1_0.action_type,
        ps1_0.branch_id,
        ps1_0.collapse_trigger,
        ps1_0.amplitude_imaginary,
        ps1_0.amplitude_real,
        ps1_0.created_at,
        ps1_0.delta_t,
        ps1_0.expression,
        ps1_0.game_id,
        ps1_0.owner_hero,
        ps1_0.probability,
        ps1_0.psi_id,
        ps1_0.status,
        ps1_0.target_x,
        ps1_0.target_y,
        ps1_0.use_complex_amplitude 
    from
        psi_states ps1_0 
    where
        ps1_0.psi_id=?
2025-07-18T16:46:23.642+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.643+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.644+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.644+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.644+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.646+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.649+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.650+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.650+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.651+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        p 
    FROM
        PsiState p 
    WHERE
        p.game.id = :gameId */ select
            ps1_0.id,
            ps1_0.action_type,
            ps1_0.branch_id,
            ps1_0.collapse_trigger,
            ps1_0.amplitude_imaginary,
            ps1_0.amplitude_real,
            ps1_0.created_at,
            ps1_0.delta_t,
            ps1_0.expression,
            ps1_0.game_id,
            ps1_0.owner_hero,
            ps1_0.probability,
            ps1_0.psi_id,
            ps1_0.status,
            ps1_0.target_x,
            ps1_0.target_y,
            ps1_0.use_complex_amplitude 
        from
            psi_states ps1_0 
        where
            ps1_0.game_id=?
2025-07-18T16:46:23.652+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        h 
    FROM
        Hero h 
    WHERE
        h.game.id = :gameId */ select
            h1_0.id,
            h1_0.game_id,
            h1_0.health,
            h1_0.max_health,
            h1_0.max_movement_points,
            h1_0.max_temporal_energy,
            h1_0.movement_points,
            h1_0.name,
            h1_0.player_id,
            h1_0.position_x,
            h1_0.position_y,
            h1_0.status,
            h1_0.temporal_energy,
            h1_0.timeline_branch 
        from
            heroes h1_0 
        where
            h1_0.game_id=?
2025-07-18T16:46:23.655+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.655+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.656+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.670+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.671+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.672+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.672+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.673+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.675+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.675+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.675+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        p 
    FROM
        PsiState p 
    WHERE
        p.game.id = :gameId */ select
            ps1_0.id,
            ps1_0.action_type,
            ps1_0.branch_id,
            ps1_0.collapse_trigger,
            ps1_0.amplitude_imaginary,
            ps1_0.amplitude_real,
            ps1_0.created_at,
            ps1_0.delta_t,
            ps1_0.expression,
            ps1_0.game_id,
            ps1_0.owner_hero,
            ps1_0.probability,
            ps1_0.psi_id,
            ps1_0.status,
            ps1_0.target_x,
            ps1_0.target_y,
            ps1_0.use_complex_amplitude 
        from
            psi_states ps1_0 
        where
            ps1_0.game_id=?
2025-07-18T16:46:23.677+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        h 
    FROM
        Hero h 
    WHERE
        h.game.id = :gameId */ select
            h1_0.id,
            h1_0.game_id,
            h1_0.health,
            h1_0.max_health,
            h1_0.max_movement_points,
            h1_0.max_temporal_energy,
            h1_0.movement_points,
            h1_0.name,
            h1_0.player_id,
            h1_0.position_x,
            h1_0.position_y,
            h1_0.status,
            h1_0.temporal_energy,
            h1_0.timeline_branch 
        from
            heroes h1_0 
        where
            h1_0.game_id=?
2025-07-18T16:46:23.682+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.685+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.692+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game */insert 
    into
        games (created_at, current_player, current_timeline, current_turn, ended_at, game_name, map_height, map_width, max_players, started_at, status, winner, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.693+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.693+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.694+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.694+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.694+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Hero */insert 
    into
        heroes (game_id, health, max_health, max_movement_points, max_temporal_energy, movement_points, name, player_id, position_x, position_y, status, temporal_energy, timeline_branch, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.695+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.695+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.695+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.696+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.696+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.696+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.697+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.698+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.699+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.700+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.700+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.700+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.701+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.701+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.701+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.702+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.703+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.703+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.703+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.704+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.PsiState */insert 
    into
        psi_states (action_type, branch_id, collapse_trigger, amplitude_imaginary, amplitude_real, created_at, delta_t, expression, game_id, owner_hero, probability, psi_id, status, target_x, target_y, use_complex_amplitude, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.705+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.705+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.Game.players */insert 
    into
        game_players (game_id, player_id) 
    values
        (?, ?)
2025-07-18T16:46:23.705+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        p 
    FROM
        PsiState p 
    WHERE
        p.game.id = :gameId */ select
            ps1_0.id,
            ps1_0.action_type,
            ps1_0.branch_id,
            ps1_0.collapse_trigger,
            ps1_0.amplitude_imaginary,
            ps1_0.amplitude_real,
            ps1_0.created_at,
            ps1_0.delta_t,
            ps1_0.expression,
            ps1_0.game_id,
            ps1_0.owner_hero,
            ps1_0.probability,
            ps1_0.psi_id,
            ps1_0.status,
            ps1_0.target_x,
            ps1_0.target_y,
            ps1_0.use_complex_amplitude 
        from
            psi_states ps1_0 
        where
            ps1_0.game_id=?
2025-07-18T16:46:23.706+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile */insert 
    into
        game_tiles (building_owner, building_type, defense_bonus, game_id, has_psi_states, is_locked, is_temporal_zone, lock_duration, movement_cost, temporal_energy_bonus, temporal_zone_type, terrain, x, y, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-18T16:46:23.709+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.709+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.710+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.710+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.710+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.710+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.710+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.710+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.710+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.710+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* update
        for com.heroesoftimepoc.temporalengine.model.PsiState */update psi_states 
    set
        action_type=?,
        branch_id=?,
        collapse_trigger=?,
        amplitude_imaginary=?,
        amplitude_real=?,
        created_at=?,
        delta_t=?,
        expression=?,
        game_id=?,
        owner_hero=?,
        probability=?,
        psi_id=?,
        status=?,
        target_x=?,
        target_y=?,
        use_complex_amplitude=? 
    where
        id=?
2025-07-18T16:46:23.713+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* insert for
        com.heroesoftimepoc.temporalengine.model.GameTile.occupants */insert 
    into
        tile_occupants (tile_id, occupant) 
    values
        (?, ?)
2025-07-18T16:46:23.714+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        p 
    FROM
        PsiState p 
    WHERE
        p.game.id = :gameId 
        AND p.status = :status */ select
            ps1_0.id,
            ps1_0.action_type,
            ps1_0.branch_id,
            ps1_0.collapse_trigger,
            ps1_0.amplitude_imaginary,
            ps1_0.amplitude_real,
            ps1_0.created_at,
            ps1_0.delta_t,
            ps1_0.expression,
            ps1_0.game_id,
            ps1_0.owner_hero,
            ps1_0.probability,
            ps1_0.psi_id,
            ps1_0.status,
            ps1_0.target_x,
            ps1_0.target_y,
            ps1_0.use_complex_amplitude 
        from
            psi_states ps1_0 
        where
            ps1_0.game_id=? 
            and ps1_0.status=?
2025-07-18T16:46:23.715+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        p 
    FROM
        PsiState p 
    WHERE
        p.game.id = :gameId 
        AND p.status = :status */ select
            ps1_0.id,
            ps1_0.action_type,
            ps1_0.branch_id,
            ps1_0.collapse_trigger,
            ps1_0.amplitude_imaginary,
            ps1_0.amplitude_real,
            ps1_0.created_at,
            ps1_0.delta_t,
            ps1_0.expression,
            ps1_0.game_id,
            ps1_0.owner_hero,
            ps1_0.probability,
            ps1_0.psi_id,
            ps1_0.status,
            ps1_0.target_x,
            ps1_0.target_y,
            ps1_0.use_complex_amplitude 
        from
            psi_states ps1_0 
        where
            ps1_0.game_id=? 
            and ps1_0.status=?
2025-07-18T16:46:23.716+02:00 DEBUG 20530 --- [           main] org.hibernate.SQL                        : 
    /* SELECT
        h 
    FROM
        Hero h 
    WHERE
        h.game.id = :gameId */ select
            h1_0.id,
            h1_0.game_id,
            h1_0.health,
            h1_0.max_health,
            h1_0.max_movement_points,
            h1_0.max_temporal_energy,
            h1_0.movement_points,
            h1_0.name,
            h1_0.player_id,
            h1_0.position_x,
            h1_0.position_y,
            h1_0.status,
            h1_0.temporal_energy,
            h1_0.timeline_branch 
        from
            heroes h1_0 
        where
            h1_0.game_id=?
[ERROR] Tests run: 7, Failures: 4, Errors: 0, Skipped: 0, Time elapsed: 0.421 s <<< FAILURE! -- in com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest
[ERROR] com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testCompleteTemporalScenario -- Time elapsed: 0.058 s <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: <3> but was: <2>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)
	at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:166)
	at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:161)
	at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:632)
	at com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testCompleteTemporalScenario(TemporalEngineIntegrationTest.java:110)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testComplexBattleScenario -- Time elapsed: 0.013 s <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: <74> but was: <10>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)
	at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)
	at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)
	at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:538)
	at com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testComplexBattleScenario(TemporalEngineIntegrationTest.java:249)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testTimelineConsistency -- Time elapsed: 0.026 s <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: <82> but was: <10>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)
	at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)
	at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)
	at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:538)
	at com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testTimelineConsistency(TemporalEngineIntegrationTest.java:293)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testErrorRecovery -- Time elapsed: 0.006 s <<< FAILURE!
org.opentest4j.AssertionFailedError: expected: <false> but was: <true>
	at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at org.junit.jupiter.api.AssertFalse.failNotFalse(AssertFalse.java:63)
	at org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:36)
	at org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:31)
	at org.junit.jupiter.api.Assertions.assertFalse(Assertions.java:231)
	at com.heroesoftimepoc.temporalengine.TemporalEngineIntegrationTest.testErrorRecovery(TemporalEngineIntegrationTest.java:322)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   TemporalEngineIntegrationTest.testCompleteTemporalScenario:110 expected: <3> but was: <2>
[ERROR]   TemporalEngineIntegrationTest.testComplexBattleScenario:249 expected: <74> but was: <10>
[ERROR]   TemporalEngineIntegrationTest.testErrorRecovery:322 expected: <false> but was: <true>
[ERROR]   TemporalEngineIntegrationTest.testTimelineConsistency:293 expected: <82> but was: <10>
[ERROR]   QuantumArtifactsIntegrationTest.testQuantumSynergy:402 Au moins 5 tats  doivent tre actifs ==> expected: <true> but was: <false>
[ERROR]   QuantumInterferenceIntegrationTest.testQuantumInterferenceScenario_TemporalEvolution:234 expected: not equal but was: <1.999999999999998>
[INFO] 
[ERROR] Tests run: 26, Failures: 6, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  8.041 s
[INFO] Finished at: 2025-07-18T16:46:23+02:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project temporal-engine: There are test failures.
[ERROR] 
[ERROR] Please refer to /Users/admin/HOT/Heroes-of-Time/backend/target/surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
